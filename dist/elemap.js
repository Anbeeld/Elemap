var Elemap;(()=>{"use strict";var t={d:(e,i)=>{for(var s in i)t.t(i,s)&&!t.t(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:i[s]})},t:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};(()=>{t.d(e,{default:()=>st});class i{constructor(){}get i(){return E.map.h(this.o.i)}get l(){return{u:`.elemap-${this.o.i.map}`}}}var s,h,r;function n(t,e){return parseFloat(t.toFixed(e))}!function(t){t.Plain="plain",t.Rectangle="rectangle",t.Hexagon="hexagon"}(s||(s={})),function(t){t.Pointy="pointy",t.Flat="flat"}(h||(h={})),function(t){t.Odd="odd",t.Even="even"}(r||(r={}));const o=2/Math.sqrt(3);function l(t,e,i=0,s={top:0,left:0}){const r=Math.sin(30*Math.PI/180);const o=Math.cos(30*Math.PI/180),l=c(e.p),u=c(e.$)/(l*o*2),a=c(e.m)/(2*l);let d=0,p=0,g=n(l*o*u,2),$=n(l*r*a,2),m=n(g-i*o*u,2),f=n(i*r*a,2),x=n(g+i*o*u,2),v=n(2*g,2),y=n($+l,2),b=n(v-i*o*u,2),w=n($-i*r*a,2),z=n($+i*a,2),S=n(y+$,2),C=n(y-i*a,2),L=n(y+i*r*a,2),N=n(S-i*r*a,2),Q=n(i*o*u,2);if(t===h.Pointy)return d=n(d+s.left,2),g=n(g+s.left,2),m=n(m+s.left,2),x=n(x+s.left,2),v=n(v+s.left,2),b=n(b+s.left,2),Q=n(Q+s.left,2),p=n(p+s.top,2),$=n($+s.top,2),f=n(f+s.top,2),w=n(w+s.top,2),z=n(z+s.top,2),y=n(y+s.top,2),C=n(C+s.top,2),L=n(L+s.top,2),S=n(S+s.top,2),N=n(N+s.top,2),`M ${m},${f}Q ${g},${p} ${x},${f} L ${b},${w}Q ${v},${$} ${v},${z} L ${v},${C}Q ${v},${y} ${b},${L} L ${x},${N}Q ${g},${S} ${m},${N} L ${Q},${L}Q ${d},${y} ${d},${C} L ${d},${z}Q ${d},${$} ${Q},${w} Z`;if(t===h.Flat)return d=n(d+s.top,2),g=n(g+s.top,2),m=n(m+s.top,2),x=n(x+s.top,2),v=n(v+s.top,2),b=n(b+s.top,2),Q=n(Q+s.top,2),p=n(p+s.left,2),$=n($+s.left,2),f=n(f+s.left,2),w=n(w+s.left,2),z=n(z+s.left,2),y=n(y+s.left,2),C=n(C+s.left,2),L=n(L+s.left,2),S=n(S+s.left,2),N=n(N+s.left,2),`M ${f},${m}Q ${p},${g} ${f},${x} L ${w},${b}Q ${$},${v} ${z},${v} L ${C},${v}Q ${y},${v} ${L},${b} L ${N},${x}Q ${S},${g} ${N},${m} L ${L},${Q}Q ${y},${d} ${C},${d} L ${z},${d}Q ${$},${d} ${w},${Q} Z`;throw new Error("Invalid hexagon type")}function u(t,e=0,i={top:0,left:0}){let s=0,h=0,r=s+e,o=h+e,l=c(t.width),u=l-e,a=c(t.height),d=a-e;return s=n(s+i.left,2),l=n(l+i.left,2),u=n(u+i.left,2),r=n(r+i.left,2),h=n(h+i.top,2),a=n(a+i.top,2),o=n(o+i.top,2),d=n(d+i.top,2),`M ${s},${o}A ${e},${e} 0 0 1 ${r},${h} L ${u},${h}A ${e},${e} 0 0 1 ${l},${o} L ${l},${d}A ${e},${e} 0 0 1 ${u},${a} L ${r},${a}A ${e},${e} 0 0 1 ${s},${d} Z`}function a(t){return{x:t.v,y:t.S}}function d(t){return{v:t.x,S:t.y}}function c(t){return t.endsWith("px")?Number(t.slice(0,-2)):Number(t)}function p(t){return"string"==typeof t&&!isNaN(Number(t))}function g(t){if("number"==typeof t)return t;if(p(t))return Number(t);if(t.endsWith("px")&&p(t.slice(0,-2)))return Number(t.slice(0,-2));throw new Error(`Invalid calc value: ${t}`)}function $(t){return"number"==typeof t||"string"==typeof t&&(!!p(t)||!(!t.endsWith("px")||!p(t.slice(0,-2))))}function m(t){return t.every($)}const f=(...t)=>{if(void 0===t[0]||0===t.length)return"0px";if(void 0===t[1]||1===t.length)return`${g(t[0])}px`;if(m(t)){let e=g(t[0]);for(let i=1;i<t.length;i++)e+=g(t[i]);return`${n(e,4)}px`}return`calc(${t.join(" + ")})`},x=function(...t){if(void 0===t[0]||0===t.length)return"0px";if(void 0===t[1]||1===t.length)return`${g(t[0])}px`;if(m(t)){let e=g(t[0]);for(let i=1;i<t.length;i++)e-=g(t[i]);return`${n(e,4)}px`}return`calc(${t.join(" - ")})`},v=(...t)=>{if(void 0===t[0]||0===t.length)return"0px";if(void 0===t[1]||1===t.length)return`${g(t[0])}px`;if(m(t)){let e=g(t[0]);for(let i=1;i<t.length;i++)e*=g(t[i]);return`${n(e,4)}px`}return`calc(${t.join(" * ")})`},y=(...t)=>{if(void 0===t[0]||0===t.length)return"0px";if(void 0===t[1]||1===t.length)return`${g(t[0])}px`;if(m(t)){let e=g(t[0]);for(let i=1;i<t.length;i++)e/=g(t[i]);return`${n(e,4)}px`}return`calc(${t.join(" / ")})`},b=(t,e)=>`${n(g(t),e)}px`;class w extends i{set o(t){this.C=t}get o(){return this.C}get i(){return E.grid.h(this.o.i)}get map(){return E.style.map.grid(this.o.i)}set L(t){this.N=t}get L(){return this.N}set j(t){this.k=t}get j(){return this.k}set tile(t){this.I=t}get tile(){return this.I}constructor(t,e,i){super(),this.o=new j(t,e,E.id()),this.M(i.tile),this.L=i.grid}get l(){let t=`.elemap-${this.o.i.map}`,e=t+"-grid";return{u:t,frame:e+"-frame",grid:e,T:e+">div",tile:e+">div>div",A:e+"-outer",B:e+"-inner",R:e+"-outer>div",G:e+"-inner>div",q:e+"-outer>div>div",O:e+"-inner>div>div",contour:e+"-contour"}}get spacing(){return v(this.tile.j.inner.marginRight,2)}get P(){return this.l.frame+"{display:block;position:absolute;z-index:50;}"+this.l.grid+"{overflow:hidden;}"+this.l.T+"{display:flex;width:max-content;position:relative;pointer-events:none;}"+this.l.tile+"{pointer-events:auto;float:left;}"+this.l.A+"{position:absolute;z-index:100;}"+this.l.R+"{z-index:110;}"+this.l.q+"{position:absolute;z-index:120;}"+this.l.q+":before{z-index:130;}"+this.l.q+":after{z-index:140;}"+this.l.B+"{position:relative;width:max-content;z-index:150;}"+this.l.G+"{z-index:160;}"+this.l.O+"{position:relative;z-index:170;}"+this.l.O+":after{z-index:190;}"+this.l.O+">*{position:relative;z-index:200;}"+this.l.contour+"{display:block;position:absolute;z-index:210;pointer-events:none;}"+this.l.contour+">div{display:block;position:absolute;z-index:220;}"}get H(){return this.l.frame+"{"+this.L.frame+"}"+this.l.contour+">div{"+this.L.contour+"}"}get Z(){let t=`{top: ${this.map.j.map.paddingTop};right: ${this.map.j.map.paddingRight};bottom: ${this.map.j.map.paddingBottom};left: ${this.map.j.map.paddingLeft};}`;return this.l.grid+"{"+`padding:${y(this.spacing,2)};}`+this.l.frame+t+this.l.A+t+this.l.contour+t+this.l.R+"{"+`width: ${x(v(this.tile.size.outer.width,this.i.size.width),v(this.spacing,this.i.size.width))};}`+this.l.T+"{"+`height:${this.tile.size.outer.height};}`+this.l.q+"{"+`width:${this.tile.size.outer.width};`+`height:${this.tile.size.outer.height};}`+this.l.contour+">div{display:none;top:0;left:0;"+`width:${this.tile.size.F.width};`+`height:${this.tile.size.F.height};}`+this.l.frame+"{"+`clip-path: path('${this.D}');}`+this.J}compute(){this.j={outer:getComputedStyle(this.i.elements.outer),inner:getComputedStyle(this.i.elements.inner),K:getComputedStyle(this.i.elements.K)},this.tile.compute()}}class z{constructor(t){this.map=t}}class S extends z{}class C extends S{constructor(t,e){super(t.map),this.grid=e}}class L extends C{constructor(t,e){super(t,t.grid),this.tile=e}}class N{constructor(t,e){this.i=t,this.map=e}}class Q extends N{}class j extends Q{constructor(t,e,i){super(t,e.map),this.grid=i}}class k extends j{constructor(t,e,i){super(t,e,i),this.tile=i}}class E{static id(){return E.U++}static add(t){E.V.set(t.o.map,t)}}E.U=0,E.V=new Map,E.map={h:t=>E.V.get(t.map),grid:t=>{let e=E.map.h(t);if(e&&e instanceof M)return e}},E.grid={h:t=>{let e=E.map.h(t);if(e&&e instanceof M)return e.grid},W:t=>{let e=E.map.h(t);if(e&&e instanceof M)return e.grid},X:t=>{let e=E.map.h(t);if(e&&e instanceof M)return e.grid}},E.tile={h:t=>{let e=E.grid.h(t);if(e)return e.Y(t)}},E.style={map:{grid:t=>{let e=E.map.h(t);if(e&&e instanceof M)return e.style}},grid:t=>{let e=E.map.h(t);if(e&&e instanceof M)return e.style.grid},tile:t=>{let e=E.map.h(t);if(e&&e instanceof M&&e.style.grid&&e.style.grid instanceof w)return e.style.grid.tile}};class I{set o(t){this.C=t}get o(){return this.C}set elements(t){this.tt=t}get elements(){return this.tt}set style(t){this.et=t}get style(){return this.et}get it(){return{u:`elemap-${this.o.map}`,container:`elemap-${this.o.map}-container`,map:`elemap-${this.o.map}-map`}}constructor(t){this.o=new S(E.id()),E.add(this)}st(){let t=document.createElement("div");return t.classList.add(`elemap-${this.o.map}-map`),{map:t}}ht(t){for(let e of document.getElementsByClassName("elemap-"+this.o.map+"-container"))e!==t&&e.classList.remove("elemap-"+this.o.map+"-container");this.elements.container!==t&&(this.elements.container=t,this.elements.container.classList.add("elemap-"+this.o.map+"-container")),this.elements.container.appendChild(this.elements.map)}render(t){this.elements=this.st(),this.ht(t),this.style.render()}}class M extends I{set grid(t){this.rt=t}get grid(){return this.rt}set style(t){this.et=t}get style(){return this.et}constructor(t,e,i){super(t),this.grid=new i(this.o,t),this.nt(e)}render(t){this.elements=this.st(),this.ht(t),this.grid.render(this.elements.map),this.style.render()}}class T{set o(t){this.C=t}get o(){return this.C}set size(t){this.ot=t}get size(){return this.ot}tile(t,e){return this.lt(t,e)}tileByIndex(t,e){var i;return null===(i=this.ut[t])||void 0===i?void 0:i[e]}Y(t){for(let e in this.ut)for(let i in this.ut[e])if(this.ut[e][i].o.tile===t.tile)return this.ut[e][i]}get style(){return E.map.grid(this.o).style.grid}get it(){let t=`elemap-${this.o.map}`;return{u:t,frame:t+"-frame",grid:t+"-grid",A:t+"-outer",B:t+"-inner",contour:t+"-contour"}}get l(){return this.style.l}set orientation(t){this.dt=t}get orientation(){return this.dt}set offset(t){this.ct=t}get offset(){return this.ct}set elements(t){this.tt=t}get elements(){return this.tt}constructor(t,e){this.ut=[],this.o=new C(t,E.id()),this.size=e.size,this.orientation=e.grid.orientation,this.offset=e.grid.offset,this.gt()}st(){this.elements||(this.elements={frame:document.createElement("div"),outer:document.createElement("div"),inner:document.createElement("div"),$t:[],ft:[],contour:document.createElement("div"),K:document.createElement("div")},this.elements.frame.classList.add("elemap-"+this.o.map+"-grid-frame"),this.elements.outer.classList.add("elemap-"+this.o.map+"-grid"),this.elements.outer.classList.add("elemap-"+this.o.map+"-grid-outer"),this.elements.inner.classList.add("elemap-"+this.o.map+"-grid"),this.elements.inner.classList.add("elemap-"+this.o.map+"-grid-inner"),this.elements.contour.classList.add("elemap-"+this.o.map+"-grid-contour"),this.elements.contour.appendChild(this.elements.K))}render(t){this.st(),t.innerHTML="";for(let t in this.ut){void 0===this.elements.$t[t]&&(this.elements.$t[t]=document.createElement("div"),this.elements.outer.appendChild(this.elements.$t[t])),void 0===this.elements.ft[t]&&(this.elements.ft[t]=document.createElement("div"),this.elements.inner.appendChild(this.elements.ft[t]));for(let e in this.ut[t])this.ut[Number(t)][Number(e)].render()}t.appendChild(this.elements.frame),t.appendChild(this.elements.outer),t.appendChild(this.elements.inner),t.appendChild(this.elements.contour),this.elements.inner.addEventListener("mouseover",(t=>{let e=t.target.closest(this.l.O);e&&this.xt(e).hover()})),this.elements.inner.addEventListener("mouseout",(t=>{let e=t.target.closest(this.l.O);e&&this.xt(e).vt()}))}yt(t){!1===t?this.elements.K.removeAttribute("style"):(this.elements.K.style.display="block",this.elements.K.style.transform=`translate(${t.x}px, ${t.y}px)`)}}const A={outer:"padding:50px;background-color:#f5df8d;",inner:""};function B(t,e){return{outer:(e&&e.outer?e.outer:"")+(t.outer?t.outer:""),inner:(e&&e.inner?e.inner:"")+(t.inner?t.inner:"")}}const R={frame:"background-color:#222222;",contour:"border: 2px solid transparent;background-color:#f5f5f5;"};function G(t,e){return{frame:(e&&e.frame?e.frame:"")+(t.frame?t.frame:""),contour:(e&&e.contour?e.contour:"")+(t.contour?t.contour:"")}}const q={outer:"background-color:#222222;",inner:"width:100px;height:100px;border-radius:6px;background-color:#b2e090;margin:2px;",hover:{outer:"background-color:#f5f5f5;",inner:""}};function O(t,e){return{outer:(e&&e.outer?e.outer:"")+(t.outer?t.outer:""),inner:(e&&e.inner?e.inner:"")+(t.inner?t.inner:""),hover:{outer:(e&&e.hover&&e.hover.outer?e.hover.outer:"")+(t.hover&&t.hover.outer?t.hover.outer:""),inner:(e&&e.hover&&e.hover.inner?e.hover.inner:"")+(t.hover&&t.hover.inner?t.hover.inner:"")}}}class P{set o(t){this.C=t}get o(){return this.C}get grid(){return E.grid.h(this.o)}set style(t){this.et=t}get style(){return void 0!==this.et?this.et:E.style.tile(this.o)}set elements(t){this.tt=t}get elements(){return this.tt}set index(t){this.bt=t}get index(){return this.bt}constructor(t,e){this.wt=!1,this.o=new L(t,E.id()),this.index=e}updateStyle(t,e=!1){void 0===this.et||e?this.style=this.zt(O(t)):this.style=this.zt(O(t,this.style.L)),this.wt&&this.render()}st(){this.elements||(this.elements={inner:document.createElement("div")}),void 0===this.et||this.style.St||(this.elements.style||(this.elements.style=document.createElement("style"),this.elements.style.classList.add("elemap-"+this.o.map+"-css-tile-"+this.o.tile)),this.elements.outer||!this.style.L.outer.length&&!this.style.L.hover.outer.length||(this.elements.outer=document.createElement("div")))}Ct(){this.elements.outer&&(this.elements.outer.dataset.elemapI=this.index.v.toString(),this.elements.outer.dataset.elemapJ=this.index.S.toString()),this.elements.inner.dataset.elemapI=this.index.v.toString(),this.elements.inner.dataset.elemapJ=this.index.S.toString()}render(){let t=this.grid.elements.$t[this.index.v],e=this.grid.elements.ft[this.index.v];this.st(),this.Ct(),this.Lt(),this.elements.style&&(this.elements.style.innerHTML=this.style.P+this.style.H+this.style.Z,document.head.appendChild(this.elements.style)),this.elements.outer&&(t.contains(this.elements.outer)||t.appendChild(this.elements.outer)),e.contains(this.elements.inner)||e.appendChild(this.elements.inner),this.wt=!0}hover(){let t=E.grid.h(this.o);t&&t.yt(this.Nt)}vt(){let t=E.grid.h(this.o);t&&t.yt(!1)}get Nt(){let t=E.grid.h(this.o);if(t){let e=this.elements.inner,i={x:0,y:0};for(;e;)if(i.x+=e.offsetLeft,i.y+=e.offsetTop,e=e.parentElement,e===t.elements.inner)return{x:i.x-c(t.style.spacing),y:i.y-c(t.style.spacing)}}return{x:0,y:0}}}class H extends i{set o(t){this.C=t}get o(){return this.C}get i(){return E.tile.h(this.o.i)}get grid(){return E.style.grid(this.o.i)}get spacing(){return this.grid.spacing}set j(t){this.k=t}get j(){return this.k}get l(){return Object.assign(Object.assign({},this.grid.l),{data:this.St?"":this.i.l.data})}set L(t){this.N=t}get L(){return this.N}constructor(t,e,i,s=!1){super(),this.o=new k(t,e,E.id()),this.St=s,this.L=i}get size(){let t={width:this.j.inner.width,height:this.j.inner.height};return{F:{width:f(t.width,v(this.spacing,2)),height:f(t.height,v(this.spacing,2))},outer:{width:f(t.width,this.spacing),height:f(t.height,this.spacing)},inner:t}}get P(){return""}get H(){let t="";return this.L.outer.length&&(t+=this.l.q+this.l.data+"{"+this.L.outer+"}"),this.L.inner.length&&(t+=this.l.O+this.l.data+"{"+this.L.inner+"}"),this.L.hover.outer.length&&(t+=this.l.q+this.l.data+":hover{"+this.L.hover.outer+"}"),this.L.hover.inner.length&&(t+=this.l.O+this.l.data+":hover{"+this.L.hover.inner+"}"),t}get Z(){let t="";return this.St&&(t+=this.l.contour+">div{border:none;}",t+=this.Qt),t}get Qt(){let t="";for(let e of this.i.grid.ut)for(let i of e)t+=this.l.q+i.l.data+"{"+`left:${v(this.size.outer.width,i.index.S)};}`;return t}compute(){this.j={inner:getComputedStyle(this.i.grid.lt(0,0).elements.inner)}}}class Z extends H{}class F extends P{set coords(t){this.jt=t}get coords(){return this.jt}constructor(t,e,i){super(t,e),this.coords=i}set style(t){this.et=t}get style(){return void 0!==this.et?this.et:E.style.tile(this.o)}zt(t){return new Z(this.o,this.grid.style.o,t)}Lt(){this.elements.outer&&(this.elements.outer.dataset.elemapX=this.coords.x.toString(),this.elements.outer.dataset.elemapY=this.coords.y.toString()),this.elements.inner.dataset.elemapX=this.coords.x.toString(),this.elements.inner.dataset.elemapY=this.coords.y.toString()}get l(){return{data:`[data-elemap-x="${this.coords.x}"][data-elemap-y="${this.coords.y}"]`}}}class D extends T{constructor(t,e){super(t,e)}gt(){for(let t=0;t<this.size.height;t++){this.ut[t]=[];for(let e=0;e<this.size.width;e++)this.ut[t][e]=new F(this.o,{v:t,S:e},a({v:t,S:e}))}}lt(t,e){let i=d({x:t,y:e});return this.tileByIndex(i.v,i.S)}xt(t){if(t.hasAttribute("data-elemap-x")&&t.hasAttribute("data-elemap-y"))return this.lt(Number(t.getAttribute("data-elemap-x")),Number(t.getAttribute("data-elemap-y")))}}class J extends i{set o(t){this.C=t}get o(){return this.C}set L(t){this.N=t}get L(){return this.N}set elements(t){this.tt=t}get elements(){return this.tt}set j(t){this.k=t}get j(){return this.k}constructor(t,e){super(),this.o=new Q(t,E.id()),this.L=e.map}st(){let t=document.createElement("style");t.classList.add(this.i.it.u+"-css-core"),document.head.appendChild(t);let e=document.createElement("style");e.classList.add(this.i.it.u+"-css-schema"),document.head.appendChild(e);let i=document.createElement("style");return i.classList.add(this.i.it.u+"-css-generated"),document.head.appendChild(i),{P:t,H:e,Z:i}}render(){this.elements=this.st(),this.elements.P.innerHTML=this.P,this.elements.H.innerHTML=this.H,this.i.elements.map.offsetHeight,this.compute(),this.elements.Z.innerHTML=this.Z}get l(){return{u:`.elemap-${this.o.i.map}`,container:`.elemap-${this.o.i.map}-container`,map:`.elemap-${this.o.i.map}-map`}}get P(){return this.l.container+"{width:max-content;}"+this.l.map+"{position:relative;width:max-content;z-index:10;}"}get H(){return this.l.map+"{"+this.L.outer+"}"+this.l.map+">*{"+this.L.inner+"}"}compute(){this.j={map:getComputedStyle(this.i.elements.map)}}get Z(){return""}}class K extends J{set grid(t){this.rt=t}get grid(){return this.rt}get i(){return E.map.grid(this.o.i)}constructor(t,e){super(t,e),this.kt(e)}render(){this.elements=this.st(),this.elements.P.innerHTML=this.P+this.grid.P+this.grid.tile.P,this.elements.H.innerHTML=this.H+this.grid.H+this.grid.tile.H,this.i.elements.map.offsetHeight,this.i.grid.elements.inner.offsetHeight,this.compute(),this.elements.Z.innerHTML=this.Z+this.grid.Z+this.grid.tile.Z}compute(){this.j={map:getComputedStyle(this.i.elements.map)},this.grid.compute()}}class U extends w{get i(){return E.grid.W(this.o.i)}set tile(t){this.I=t}get tile(){return this.I}M(t){this.tile=new Z(this.i.tileByIndex(0,0).o,this.o,t,!0)}get J(){let t=n(c(this.j.K.borderWidth),0)+"px",e={width:x(this.tile.size.F.width,v(t,2)),height:x(this.tile.size.F.height,v(t,2))},i=u(this.tile.size.F,c(this.tile.j.inner.borderRadius)),s=u(e,c(this.tile.j.inner.borderRadius),{top:c(t),left:c(t)});return this.l.contour+">div{"+`clip-path:path(evenodd,'${i} ${s}');}`}get D(){let t="";for(let e=0;e<this.i.size.height;e++)for(let i=0;i<this.i.size.width;i++)""!==t&&(t+=" "),t+=u(this.tile.size.F,c(this.tile.j.inner.borderRadius),{top:e*(c(this.tile.size.F.height)-c(this.spacing)),left:i*(c(this.tile.size.F.width)-c(this.spacing))});return t}}class V extends K{kt(t){this.grid=new U(this.i.grid.o,this.o,t)}}class W extends M{constructor(t,e){super(t,e,D)}nt(t){this.style=new V(this.o,t)}}class X extends H{get Qt(){let t="";for(let e of this.i.grid.ut)for(let i of e)t+=this.l.q+i.l.data+"{"+`left:${x(v(this.size.outer.width,i.index.S),v(this.grid.It.Et,i.index.S))};}`;return t}}class Y extends P{set coords(t){this.jt=t}get coords(){return this.jt}constructor(t,e,i){super(t,e),this.coords=i}set style(t){this.et=t}get style(){return void 0!==this.et?this.et:E.style.tile(this.o)}zt(t){return new X(this.o,this.grid.style.o,t)}Lt(){this.elements.outer&&(this.elements.outer.dataset.elemapR=this.coords.r.toString(),this.elements.outer.dataset.elemapQ=this.coords.Mt.toString()),this.elements.inner.dataset.elemapR=this.coords.r.toString(),this.elements.inner.dataset.elemapQ=this.coords.Mt.toString()}get l(){return{data:`[data-elemap-r="${this.coords.r}"][data-elemap-q="${this.coords.Mt}"]`}}}class _ extends T{constructor(t,e){super(t,e)}gt(){for(let s=0;s<this.size.height;s++){this.ut[s]=[];for(let n=0;n<this.size.width;n++)this.ut[s][n]=new Y(this.o,{v:s,S:n},(t={v:s,S:n},e=this.orientation,i=this.offset,function(t,e,i){let s={r:0,Mt:0};return e===h.Pointy?(s.r=t.x,i===r.Odd?s.Mt=t.y-(t.x-(1&t.x))/2:s.Mt=t.y-(t.x+(1&t.x))/2):(s.Mt=t.y,i===r.Odd?s.r=t.x-(t.y-(1&t.y))/2:s.r=t.x-(t.y+(1&t.y))/2),s}(a(t),e,i)))}var t,e,i}lt(t,e){let i=d(function(t,e,i){let s={x:0,y:0};return e===h.Pointy?(s.x=t.r,i===r.Odd?s.y=t.Mt+(t.r-(1&t.r))/2:s.y=t.Mt+(t.r+(1&t.r))/2):(s.y=t.Mt,i===r.Odd?s.x=t.r+(t.Mt-(1&t.Mt))/2:s.x=t.r+(t.Mt+(1&t.Mt))/2),s}({r:t,Mt:e},this.orientation,this.offset));return this.tileByIndex(i.v,i.S)}xt(t){if(t.hasAttribute("data-elemap-r")&&t.hasAttribute("data-elemap-q"))return this.lt(Number(t.getAttribute("data-elemap-r")),Number(t.getAttribute("data-elemap-q")))}Tt(t){return this.offset===r.Odd?t%2==1:t%2==0}}class tt extends w{get i(){return E.grid.X(this.o.i)}set tile(t){this.I=t}get tile(){return this.I}M(t){this.tile=new X(this.i.tileByIndex(0,0).o,this.o,t,!0)}get At(){return this.i.orientation===h.Pointy?{F:{p:y(this.tile.size.F.height,2),m:this.tile.size.F.height,$:this.tile.size.F.width},outer:{p:y(this.tile.size.outer.height,2),m:this.tile.size.outer.height,$:this.tile.size.outer.width},inner:{p:y(this.tile.size.inner.height,2),m:this.tile.size.inner.height,$:this.tile.size.inner.width}}:{F:{p:y(this.tile.size.F.width,2),m:this.tile.size.F.width,$:this.tile.size.F.height},outer:{p:y(this.tile.size.outer.width,2),m:this.tile.size.outer.width,$:this.tile.size.outer.height},inner:{p:y(this.tile.size.inner.width,2),m:this.tile.size.inner.width,$:this.tile.size.inner.height}}}compute(){this.j={outer:getComputedStyle(this.i.elements.outer),inner:getComputedStyle(this.i.elements.inner),K:getComputedStyle(this.i.elements.K)},this.tile.compute(),this.Bt(),this.tile.compute()}Bt(){let t,e;this.i.orientation===h.Pointy?(e=x(this.tile.size.outer.height,this.tile.size.inner.height),t=b(v(this.tile.size.inner.width,o),0),this.map.elements.H.innerHTML+=this.l.q+"{height:"+f(t,e)+"}"+this.l.O+"{height:"+t+"}"):(e=x(this.tile.size.outer.width,this.tile.size.inner.width),t=b(v(this.tile.size.inner.height,o),0),this.map.elements.H.innerHTML+=this.l.q+"{width:"+f(t,e)+"}"+this.l.O+"{width:"+t+"}")}get D(){let t="",e=c(this.tile.size.F.height)-c(this.It.vertical)-c(this.spacing),i=c(this.tile.size.F.width)-c(this.It.Et)-c(this.spacing);for(let s=0;s<this.i.size.height;s++)for(let h=0;h<this.i.size.width;h++)""!==t&&(t+=" "),t+=l(this.i.orientation,this.At.F,c(this.tile.j.inner.borderRadius),{top:s*e+(this.i.Tt(h)?1:0)*c(this.Rt.vertical),left:h*i+(this.i.Tt(s)?1:0)*c(this.Rt.Et)});return t}get J(){let t=n(c(this.j.K.borderWidth),0)+"px",e=x(this.At.F.m,v(t,2)),i={p:y(e,2),m:e,$:x(this.At.F.$,v(t,2))},s=l(this.i.orientation,this.At.F,c(this.tile.j.inner.borderRadius)),h=l(this.i.orientation,i,c(this.tile.j.inner.borderRadius),{top:c(t),left:c(t)});return this.l.O+"{"+`clip-path:path('${l(this.i.orientation,this.At.inner,c(this.tile.j.inner.borderRadius))}');}`+this.l.q+"{"+`clip-path:path('${l(this.i.orientation,this.At.outer,0)}');}`+this.l.contour+">div{"+`clip-path:path(evenodd,'${s} ${h}');}`+this.Gt()+this.qt()}Gt(){return this.i.orientation===h.Pointy?this.l.T+":not(:first-child){"+`margin-top:${x("0px",this.It.vertical)};}`:this.l.O+":not(:first-child){"+`margin-left:${x(y(this.spacing,2),this.It.Et)};}`}get It(){return this.i.orientation===h.Pointy?{vertical:y(this.tile.size.outer.height,4),Et:"0px"}:{vertical:"0px",Et:y(this.tile.size.outer.width,4)}}qt(){let t="even"===this.i.offset?"2n - 1":"2n";if(this.i.orientation===h.Pointy)return this.l.T+`:nth-child(${t}){`+`margin-left:${this.Rt.Et};}`;{let e="";for(let i=0;i<this.i.size.width;i++)("2n - 1"===t&&i%2==0||"2n"===t&&i%2!=0)&&(e+=this.l.q+`[data-elemap-j="${i}"]{`+`margin-top:${this.Rt.vertical};`+`margin-bottom:${x("0px",this.Rt.vertical)};}`);return e+=this.l.O+`:nth-child(${t}){`+`margin-top:${f(y(this.spacing,2),this.Rt.vertical)};`+`margin-bottom:${f(y(this.spacing,2),x("0px",this.Rt.vertical))};}`,e+=this.l.T+":last-child{"+`height:${f(this.tile.size.outer.height,this.Rt.vertical)};}`,e}}get Rt(){return this.i.orientation===h.Pointy?{vertical:"0px",Et:y(this.tile.size.outer.width,2)}:{vertical:y(this.tile.size.outer.height,2),Et:"0px"}}}class et extends K{kt(t){this.grid=new tt(this.i.grid.o,this.o,t)}}class it extends M{constructor(t,e){super(t,e,_)}nt(t){this.style=new et(this.o,t)}}class st{constructor(t,e){let i={type:(n=t||{}).type?n.type:s.Rectangle,size:{width:n.size&&n.size.width?n.size.width:32,height:n.size&&n.size.height?n.size.height:18},grid:{orientation:n.grid&&n.grid.orientation?n.grid.orientation:h.Pointy,offset:n.grid&&n.grid.offset?n.grid.offset:r.Odd}};var n;let o=function(t){return{map:B(t.map?t.map:{},A),grid:G(t.grid?t.grid:{},R),tile:O(t.tile?t.tile:{},q)}}(e||{});i.type===s.Rectangle?this._=new W(i,o):i.type===s.Hexagon&&(this._=new it(i,o)),this._,this.render,this.tileByIndex}render(t){this._.render(t)}tileByIndex(t,e){let i=this._.grid.tileByIndex(t,e);if(i)return new ht(i)}}class ht{constructor(t){this._=t,this._,this.updateStyle}updateStyle(t,e=!1){this._.updateStyle(t,e)}}})(),Elemap=e.default})();