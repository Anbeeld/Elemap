var Elemap;(()=>{"use strict";var t={d:(e,i)=>{for(var s in i)t.t(i,s)&&!t.t(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:i[s]})},t:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};(()=>{t.d(e,{default:()=>kt});class i{constructor(){}get i(){return R.map.h(this.o.i)}get u(){return{l:`.elemap-${this.o.i.map}`}}}var s,r,h;function n(t){return void 0!==t.x&&void 0!==t.y}function o(t){return void 0!==t.m&&void 0!==t.r?t.m:t.y}function u(t,e){return parseFloat(t.toFixed(e))}!function(t){t.p="rectangle",t.$="hexagon"}(s||(s={})),function(t){t.v="pointy",t._="flat"}(r||(r={})),function(t){t.C="odd",t.S="even"}(h||(h={}));const l=2/Math.sqrt(3);function a(t,e,i=0,s={top:0,left:0}){const h=Math.sin(30*Math.PI/180);const n=Math.cos(30*Math.PI/180),o=y(e.q),l=y(e.T)/(o*n*2),a=y(e.B)/(2*o);let d=0,c=0,m=u(o*n*l,2),p=u(o*h*a,2),f=u(m-i*n*l,2),g=u(i*h*a,2),$=u(m+i*n*l,2),x=u(2*m,2),v=u(p+o,2),w=u(x-i*n*l,2),_=u(p-i*h*a,2),b=u(p+i*a,2),C=u(v+p,2),S=u(v-i*a,2),z=u(v+i*h*a,2),q=u(C-i*h*a,2),T=u(i*n*l,2);if(t===r.v)return d=u(d+s.left,2),m=u(m+s.left,2),f=u(f+s.left,2),$=u($+s.left,2),x=u(x+s.left,2),w=u(w+s.left,2),T=u(T+s.left,2),c=u(c+s.top,2),p=u(p+s.top,2),g=u(g+s.top,2),_=u(_+s.top,2),b=u(b+s.top,2),v=u(v+s.top,2),S=u(S+s.top,2),z=u(z+s.top,2),C=u(C+s.top,2),q=u(q+s.top,2),`M ${f},${g}Q ${m},${c} ${$},${g} L ${w},${_}Q ${x},${p} ${x},${b} L ${x},${S}Q ${x},${v} ${w},${z} L ${$},${q}Q ${m},${C} ${f},${q} L ${T},${z}Q ${d},${v} ${d},${S} L ${d},${b}Q ${d},${p} ${T},${_} Z`;if(t===r._)return d=u(d+s.top,2),m=u(m+s.top,2),f=u(f+s.top,2),$=u($+s.top,2),x=u(x+s.top,2),w=u(w+s.top,2),T=u(T+s.top,2),c=u(c+s.left,2),p=u(p+s.left,2),g=u(g+s.left,2),_=u(_+s.left,2),b=u(b+s.left,2),v=u(v+s.left,2),S=u(S+s.left,2),z=u(z+s.left,2),C=u(C+s.left,2),q=u(q+s.left,2),`M ${g},${f}Q ${c},${m} ${g},${$} L ${_},${w}Q ${p},${x} ${b},${x} L ${S},${x}Q ${v},${x} ${z},${w} L ${q},${$}Q ${C},${m} ${q},${f} L ${z},${T}Q ${v},${d} ${S},${d} L ${b},${d}Q ${p},${d} ${_},${T} Z`;throw new Error("Invalid hexagon type")}function d(t,e=0,i={top:0,left:0}){let s=0,r=0,h=s+e,n=r+e,o=y(t.width),l=o-e,a=y(t.height),d=a-e;return s=u(s+i.left,2),o=u(o+i.left,2),l=u(l+i.left,2),h=u(h+i.left,2),r=u(r+i.top,2),a=u(a+i.top,2),n=u(n+i.top,2),d=u(d+i.top,2),`M ${s},${n}A ${e},${e} 0 0 1 ${h},${r} L ${l},${r}A ${e},${e} 0 0 1 ${o},${n} L ${o},${d}A ${e},${e} 0 0 1 ${l},${a} L ${h},${a}A ${e},${e} 0 0 1 ${s},${d} Z`}function c(t,e,i){let s={r:0,m:0};return e===r.v?(s.r=t.y,i===h.C?s.m=t.x-(t.y-(1&t.y))/2:s.m=t.x-(t.y+(1&t.y))/2):(s.m=t.x,i===h.C?s.r=t.y-(t.x-(1&t.x))/2:s.r=t.y-(t.x+(1&t.x))/2),s}function m(t,e,i){let s={x:0,y:0};return e===r.v?(s.y=t.r,i===h.C?s.x=t.m+(t.r-(1&t.r))/2:s.x=t.m+(t.r+(1&t.r))/2):(s.x=t.m,i===h.C?s.y=t.r+(t.m-(1&t.m))/2:s.y=t.r+(t.m+(1&t.m))/2),s}function p(t){return t&&"object"==typeof t&&!Array.isArray(t)}function f(t,...e){if(!e.length)return t;const i=e.shift();if(p(t)&&p(i))for(const e in i)p(t[e])&&p(i[e])?f(t[e],i[e]):Object.assign(t,{[e]:i[e]});return f(t,...e)}class g{*[Symbol.iterator](){for(const t of this.keys)yield[t,this[t]]}get keys(){let t=[];for(const e of Object.keys(this)){let i;if("string"==typeof e){if(!v(e))continue;i=Number(e)}else{if("number"!=typeof e)continue;i=e}t.push(i)}return t.sort(((t,e)=>t-e)),t}get values(){let t=[];for(const e of this.keys)t.push(this[e]);return t}get length(){return this.keys.length}}class $ extends g{}function x(t){let e=new g;if(p(t))for(const i in t)e[Number(i)]=t[i];return e}function v(t){return"string"==typeof t&&!isNaN(Number(t))}function y(t){return t.endsWith("px")?Number(t.slice(0,-2)):Number(t)}function w(t){if("number"==typeof t)return t;if(v(t))return Number(t);if(t.endsWith("px")&&v(t.slice(0,-2)))return Number(t.slice(0,-2));throw new Error(`Invalid calc value: ${t}`)}function _(t){return"number"==typeof t||"string"==typeof t&&(!!v(t)||!(!t.endsWith("px")||!v(t.slice(0,-2))))}function b(t){return t.every(_)}const C=(...t)=>{if(void 0===t[0]||0===t.length)return"0px";if(void 0===t[1]||1===t.length)return`${w(t[0])}px`;if(b(t)){let e=w(t[0]);for(let i=1;i<t.length;i++)e+=w(t[i]);return`${u(e,4)}px`}return`calc(${t.join(" + ")})`},S=function(...t){if(void 0===t[0]||0===t.length)return"0px";if(void 0===t[1]||1===t.length)return`${w(t[0])}px`;if(b(t)){let e=w(t[0]);for(let i=1;i<t.length;i++)e-=w(t[i]);return`${u(e,4)}px`}return`calc(${t.join(" - ")})`},z=(...t)=>{if(void 0===t[0]||0===t.length)return"0px";if(void 0===t[1]||1===t.length)return`${w(t[0])}px`;if(b(t)){let e=w(t[0]);for(let i=1;i<t.length;i++)e*=w(t[i]);return`${u(e,4)}px`}return`calc(${t.join(" * ")})`},q=(...t)=>{if(void 0===t[0]||0===t.length)return"0px";if(void 0===t[1]||1===t.length)return`${w(t[0])}px`;if(b(t)){let e=w(t[0]);for(let i=1;i<t.length;i++)e/=w(t[i]);return`${u(e,4)}px`}return`calc(${t.join(" / ")})`},T=(t,e)=>`${u(w(t),e)}px`;class B extends i{set o(t){this.I=t}get o(){return this.I}get i(){return R.grid.h(this.o.i)}get map(){return R.style.map.grid(this.o.i)}set M(t){this.A=t}get M(){return this.A}set N(t){this.P=t}get N(){return this.P}set L(t){this.k=t}get L(){return this.k}constructor(t,e,i){super(),this.o=new L(t,e,R.id()),this.R(i.L),this.M=i.grid}get u(){let t=`.elemap-${this.o.i.map}`,e=t+"-grid";return{l:t,frame:e+"-frame",grid:e,O:e+">div",L:e+">div>div",j:e+"-outer",G:e+"-inner",Y:e+"-outer>div",F:e+"-inner>div",H:e+"-outer>div>div",X:e+"-inner>div>div",Z:e+"-contour",D:t+"-mannequin"}}get spacing(){return z(this.L.N.inner.marginRight,2)}get J(){return this.u.frame+"{display:block;position:absolute;z-index:50;}"+this.u.D+"{display:none;}"+this.u.grid+"{overflow:hidden;}"+this.u.O+"{position:absolute;left:0;right:auto;bottom:auto;pointer-events:none;}"+this.u.L+"{pointer-events:auto;float:left;}"+this.u.j+"{position:absolute;z-index:100;}"+this.u.Y+"{z-index:110;}"+this.u.H+"{position:absolute;z-index:120;}"+this.u.H+":before{z-index:130;}"+this.u.H+":after{z-index:140;}"+this.u.G+"{position:relative;z-index:150;}"+this.u.F+"{z-index:160;}"+this.u.X+"{position:absolute;z-index:170;}"+this.u.X+":after{z-index:190;}"+this.u.X+">*{position:relative;z-index:200;}"+this.u.Z+"{display:block;position:absolute;z-index:210;pointer-events:none;}"+this.u.Z+">div{display:block;position:absolute;z-index:220;}"}get K(){return this.u.frame+"{"+this.M.frame+"}"+this.u.Z+">div{"+this.M.Z+"}"}get U(){let t=`{top: ${this.map.N.map.paddingTop};right: ${this.map.N.map.paddingRight};bottom: ${this.map.N.map.paddingBottom};left: ${this.map.N.map.paddingLeft};}`;return this.u.grid+"{"+`margin:${q(this.spacing,2)};`+`width: ${this.V.width};`+`height:${this.V.height};}`+this.u.frame+t+this.u.j+t+this.u.Z+t+this.u.Z+"{"+`margin:${q(this.spacing,2)};}`+this.u.O+"{"+`height:${this.L.size.W.height};`+`width: ${this.tt.width};}`+this.u.H+"{"+`width:${this.L.size.W.width};`+`height:${this.L.size.W.height};}`+this.u.Z+">div{display:none;top:0;left:0;"+`width:${this.L.size.et.width};`+`height:${this.L.size.et.height};}`+this.u.frame+"{"+`clip-path: path('${this.it}');}`+this.st+this.rt+this.ht}get st(){let t="",e=0;for(let i of this.i.nt.keys)t+=this.u.O+`[data-elemap-y="${i}"]{`+`top:${z(e,this.L.size.W.height)};}`,e++;return t}compute(){this.N={W:getComputedStyle(this.i.elements.W),inner:getComputedStyle(this.i.elements.inner),ot:getComputedStyle(this.i.elements.ot)},this.L.compute()}get tt(){return{width:z(this.L.size.W.width,this.i.size.width),height:this.L.size.W.height}}get V(){return{width:this.tt.width,height:z(this.L.size.W.height,this.i.size.height)}}ut(t){return{top:z(t.y-this.i.lt.y.min,this.L.size.W.height),left:z(t.x-this.i.lt.x.min,this.L.size.W.width)}}dt(t){let e=this.ut(t);return{top:C(e.top,q(this.spacing,2)),left:C(e.left,q(this.spacing,2))}}get rt(){let t="";for(let e of this.i.nt.values)for(let i of e.values)t+=this.u.L+i.u.data+"{"+`left:${this.ut(i.ct).left};}`;return t}get ft(){return{top:C(this.map.N.map.paddingTop,q(this.spacing,2)),left:C(this.map.N.map.paddingLeft,q(this.spacing,2))}}}class E{constructor(t){this.map=t}}class I extends E{}class M extends I{constructor(t,e){super(t.map),this.grid=e}}class A extends M{constructor(t,e){super(t,t.grid),this.L=e}}class N extends I{constructor(t,e){super(t.map),this.content=e}}class P{constructor(t,e){this.i=t,this.map=e}}class Q extends P{}class L extends Q{constructor(t,e,i){super(t,e.map),this.grid=i}}class k extends L{constructor(t,e,i){super(t,e,i),this.L=i}}class R{static id(){return R.gt++}static add(t){R.$t.set(t.o.map,t)}static content(t){let e=R.map.h(t);if(e)return e.xt(t)}}function O(t,e){if(t&&t.hasOwnProperty(e))return t[e]}function j(t,e,i){if(t)return t[e]=i,t}function G(t,e){for(let i of e)j(t,i[0],i[1]);return t}function Y(t){let e={};return j(e,"map",t.map),e}function F(t){let e={};return j(e,"map",t.map),j(e,"grid",t.grid),e}function H(t){return{map:O(t,"map"),grid:O(t,"grid")}}function X(t){let e={};return j(e,"map",t.map),j(e,"grid",t.grid),j(e,"tile",t.L),e}function Z(t){return{map:O(t,"map"),grid:O(t,"grid"),L:O(t,"tile")}}function D(t){let e={};return j(e,"map",t.map),j(e,"content",t.content),e}function J(t){return{map:O(t,"map"),content:O(t,"content")}}function K(t){let e={};return t&&(t.content?e=D(t):t.L&&(e=X(t))),e}function U(t){return{W:O(t,"outer"),inner:O(t,"inner")}}function V(t){return G({},[["frame",t.frame],["contour",t.Z]])}function W(t){return{frame:O(t,"frame"),Z:O(t,"contour")}}function tt(t){return G({},[["outer",t.W],["inner",t.inner],["hover",G({},[["outer",t.vt.W],["inner",t.vt.inner]])]])}function et(t){return{W:O(t,"outer"),inner:O(t,"inner"),vt:{W:O(O(t,"hover"),"outer"),inner:O(O(t,"hover"),"inner")}}}function it(t){return{grid:W(O(t,"grid")),L:et(O(t,"tile"))}}function st(t){return{map:U(O(t,"map")),grid:W(O(t,"grid")),L:et(O(t,"tile"))}}function rt(t){return void 0!==O(t,"q")&&void 0!==O(t,"r")?{m:O(e=t,"q"),r:O(e,"r")}:function(t){return{x:O(t,"x"),y:O(t,"y")}}(t);var e}function ht(t){return void 0!==t.m&&void 0!==t.r?function(t){let e={};return j(e,"q",t.m),j(e,"r",t.r),e}(t):function(t){let e={};return j(e,"x",t.x),j(e,"y",t.y),e}(t)}R.gt=0,R.$t=new Map,R.map={h:t=>R.$t.get(t.map),grid:t=>{let e=R.map.h(t);if(e&&e instanceof $t)return e}},R.grid={h:t=>{let e=R.map.h(t);if(e&&e instanceof $t)return e.grid},yt:t=>{let e=R.map.h(t);if(e&&e instanceof $t)return e.grid},wt:t=>{let e=R.map.h(t);if(e&&e instanceof $t)return e.grid}},R.L={h:t=>{let e=R.grid.h(t);if(e)return e._t(t)}},R.style={map:{grid:t=>{let e=R.map.h(t);if(e&&e instanceof $t)return e.style}},grid:t=>{let e=R.map.h(t);if(e&&e instanceof $t)return e.style.grid},L:t=>{let e=R.map.h(t);if(e&&e instanceof $t&&e.style.grid&&e.style.grid instanceof B)return e.style.grid.L}};const nt={W:"padding:50px;background-color:#f5df8d;",inner:""};function ot(t,e){return{W:(e&&e.W?e.W:"")+(t.W||""),inner:(e&&e.inner?e.inner:"")+(t.inner||"")}}const ut={frame:"background-color:#222222;",Z:"border: 2px solid transparent;background-color:#f5f5f5;"};function lt(t,e){return{frame:(e&&e.frame?e.frame:"")+(t.frame||""),Z:(e&&e.Z?e.Z:"")+(t.Z||"")}}const at={W:"background-color:#222222;",inner:"width:100px;height:100px;border-radius:6px;background-color:#b2e090;margin:2px;",vt:{W:"background-color:#f5f5f5;",inner:""}};function dt(t,e){return{W:(e&&e.W?e.W:"")+(t.W||""),inner:(e&&e.inner?e.inner:"")+(t.inner||""),vt:{W:(e&&e.vt&&e.vt.W?e.vt.W:"")+(t.vt&&t.vt.W?t.vt.W:""),inner:(e&&e.vt&&e.vt.inner?e.vt.inner:"")+(t.vt&&t.vt.inner?t.vt.inner:"")}}}class ct{set o(t){this.I=t}get o(){return this.I}get grid(){return R.grid.h(this.o)}set style(t){this.bt=t}get style(){return void 0!==this.bt?this.bt:R.style.L(this.o)}get M(){return this.style.M}set elements(t){this.Ct=t}get elements(){return this.Ct}set coords(t){this.St=t}get coords(){return this.St}set zt(t){this.qt=t}get zt(){return this.qt}constructor(t){this.Tt=!1,this.qt={},"number"==typeof t.o.L?this.o=new A(t.o,t.o.L):this.o=new A(t.o,R.id()),this.coords=t.coords,t.M&&"mannequin"!==t.M&&this.Bt(t.M)}static Et(t,e){let i=new t(function(t){return{o:Z(O(t,"ids")),coords:rt(O(t,"coords")),M:!!O(t,"decls")&&et(O(t,"decls")),zt:O(t,"mutations")}}(e));return i.It(e),i}It(t){f(this.zt,t)}Mt(){return this.At(this.Nt())}Nt(t={}){return G(t,[["ids",X(this.o)],["coords",ht(this.coords)],["decls",void 0!==this.bt&&tt(this.M)]]),t}At(t={}){return G(t,[["mutations",this.zt]]),t}Pt(){return this.zt}Bt(t,e=!1){void 0===this.bt||e?this.style=this.Qt(dt(t)):this.style=this.Qt(dt(t,this.M)),this.Tt&&this.Lt()}kt(){if(this.elements||(this.elements={inner:document.createElement("div")}),void 0!==this.bt&&!this.style.D){if(!this.elements.style){let t=document.head.getElementsByTagName("style");for(let e of t)e.classList.contains("elemap-"+this.o.map+"-css-tile-"+this.o.L)&&(this.elements.style=e)}this.elements.style||(this.elements.style=document.createElement("style"),this.elements.style.classList.add("elemap-"+this.o.map+"-css-tile-"+this.o.L),document.head.appendChild(this.elements.style)),this.elements.W||!this.M.W.length&&!this.M.vt.W.length||(this.elements.W=document.createElement("div"))}}Lt(){if(this.style.D&&this.style.i===this)this.Rt();else{let t=this.grid.elements.Ot[o(this.ct)],e=this.grid.elements.jt[o(this.ct)];this.kt(),this.Gt(),this.elements.style&&(this.elements.style.innerHTML=this.style.J+this.style.K+this.style.U),this.elements.W&&(t.contains(this.elements.W)||t.appendChild(this.elements.W)),e.contains(this.elements.inner)||e.appendChild(this.elements.inner)}this.Tt=!0}Rt(){let t=this.grid.elements.D.Y,e=this.grid.elements.D.F;this.elements||(this.elements={inner:document.createElement("div"),W:document.createElement("div")}),this.elements.W.classList.add("elemap-"+this.o.map+"-mannequin"),this.elements.inner.classList.add("elemap-"+this.o.map+"-mannequin"),t.contains(this.elements.W)||t.appendChild(this.elements.W),e.contains(this.elements.inner)||e.appendChild(this.elements.inner)}vt(){let t=R.grid.h(this.o);t&&t.Yt(this.Ft)}Ht(){let t=R.grid.h(this.o);t&&t.Yt(!1)}get Ft(){let t=R.grid.h(this.o);if(t){let e=this.elements.inner,i={x:0,y:0};for(;e;)if(i.x+=e.offsetLeft,i.y+=e.offsetTop,e=e.parentElement,e===t.elements.inner)return{x:i.x-y(t.style.spacing),y:i.y-y(t.style.spacing)}}return{x:0,y:0}}}class mt{set o(t){this.I=t}get o(){return this.I}get map(){return R.map.h(this.o)}set Xt(t){this.Zt=t}get Xt(){return this.Zt}set location(t){this.Dt=t}get location(){return this.Dt}get host(){return this.Dt.content?R.content(this.Dt):this.Dt.L?R.L.h(this.Dt):void 0}set offset(t){this.Jt=t}get offset(){return this.Jt}set elements(t){this.Ct=t}get elements(){return this.Ct}set zt(t){this.qt=t}get zt(){return this.qt}constructor(t){if(this.Dt=void 0,this.qt={},"number"==typeof t.o.content?this.o=new N(t.o,t.o.content):this.o=new N(t.o,R.id()),"string"==typeof t.Xt){let e=document.createElement("div");e.innerHTML=t.Xt,this.elements={Xt:e.children[0]}}else this.elements={Xt:t.Xt};this.location=t.location,this.offset=t.offset}static Kt(t){let e=new mt(function(t){return{o:J(O(t,"ids")),Xt:O(t,"figure"),location:(e=O(t,"location"),e?O(e,"content")?J(e):O(e,"tile")?Z(e):void 0:void 0),offset:O(t,"offset"),zt:O(t,"mutations")};var e}(t));return e.It(t),e}It(t){f(this.zt,t)}Ut(){return this.At(this.Nt())}Nt(t={}){return G(t,[["ids",D(this.o)],["figure",this.elements.Xt.outerHTML],["location",this.location?K(this.location):void 0],["offset",this.offset]]),t}At(t={}){return G(t,[["mutations",this.zt]]),t}Pt(){return this.zt}vt(){this.host&&"function"==typeof this.host.vt&&this.host.vt()}Ht(){this.host&&"function"==typeof this.host.Ht&&this.host.Ht()}kt(){this.elements.container||(this.elements.container=document.createElement("div"))}Lt(){if(this.kt(),this.host&&this.host instanceof ct){let t=this.host.style.grid.ft,e=this.host.style.grid.dt(this.host.ct),i=this.host.style.size.inner;this.elements.container.style.top=C(t.top,e.top,this.offset.top,q(i.height,2)),this.elements.container.style.left=C(t.left,e.left,this.offset.top,q(i.width,2))}this.elements.container.contains(this.elements.Xt)||this.elements.container.appendChild(this.elements.Xt),this.map.elements.content.contains(this.elements.container)||this.map.elements.content.appendChild(this.elements.container)}}class pt{constructor(t){this.Vt=t,this.Wt(),this.te()}It(t){return this.ee(t)}Wt(){j(this,"mutate",(t=>this.ee(t)))}ee(t){return this.Vt.It(t)}Pt(){return this.ie()}te(){j(this,"report",(()=>this.ie()))}ie(){return this.Vt.Pt()}}class ft{constructor(t){this.Vt=t,this.se(),this.re(),this.te(),this.Wt(),this.he()}set coords(t){}get coords(){return this.ne()}se(){j(this,"coords",{set:t=>{},get:()=>this.ne()})}ne(){return ht(this.Vt.coords)}Ut(){return this.oe()}re(){j(this,"export",(()=>this.oe()))}oe(){return this.Vt.Ut()}Pt(){return this.ie()}te(){j(this,"report",(()=>this.ie()))}ie(){return this.Vt.Pt()}It(t){return this.ee(t)}Wt(){j(this,"mutate",(t=>this.ee(t)))}ee(t){return this.Vt.It(t)}Bt(t,e=!1){this.ue(t,e)}he(){j(this,"updateStyle",((t,e=!1)=>this.ue(t,e)))}ue(t,e=!1){this.Vt.Bt(et(t),e)}}class gt{set o(t){this.I=t}get o(){return this.I}set elements(t){this.Ct=t}get elements(){return this.Ct}set style(t){this.bt=t}get style(){return this.bt}get le(){return{l:`elemap-${this.o.map}`,container:`elemap-${this.o.map}-container`,map:`elemap-${this.o.map}-map`}}set zt(t){this.qt=t}get zt(){return this.qt}set ae(t){this.de=t}get ae(){return this.de}constructor(t){this.qt={},this.de=[],t.o&&"number"==typeof t.o.map?this.o=new I(t.o.map):this.o=new I(R.id()),R.add(this),t.ae&&this.ce(t.ae)}Mt(){return this.At(this.Nt())}Nt(t={}){return G(t,[["type",this.me()],["ids",Y(this.o)],["contents",this.ae.map((t=>t.Ut()))]]),t}At(t={}){return G(t,[["mutations",this.zt]]),t}Pt(){return this.zt}ce(t){for(let e of t)this.ae.push(mt.Kt(e))}kt(){if(this.elements&&this.elements.map)return this.elements;{let t=document.createElement("div");t.classList.add(`elemap-${this.o.map}-map`);let e=document.createElement("div");return e.classList.add(`elemap-${this.o.map}-content`),{map:t,content:e}}}pe(t){if(t&&this.elements.container!==t&&(this.elements.container=t,this.elements.container.innerHTML="",this.elements.container.classList.add("elemap-"+this.o.map+"-container")),!this.elements.container)throw new Error("No container found.");for(let t of document.getElementsByClassName("elemap-"+this.o.map+"-container"))t!==this.elements.container&&t.classList.remove("elemap-"+this.o.map+"-container");this.elements.container.appendChild(this.elements.map),this.elements.container.appendChild(this.elements.content)}Lt(t){this.elements=this.kt(),this.pe(t),this.style.Lt();for(let t of this.ae)t.Lt()}xt(t){for(let e of this.ae)if(e.o.content===t.content)return e}fe(t){for(let e of this.ae)if(e.elements.Xt===t)return e}ge(t){let e=function(t){return{Xt:O(t,"figure"),location:O(t,"location"),offset:O(t,"offset")}}(t);e.location instanceof ft?e.location=this.grid.$e(e.location.coords).o:e.location=void 0;let i=new mt(Object.assign(e,{o:this.o,offset:t.offset||{top:"0",right:"0"}}));return this.ae.push(i),new pt(i)}}class $t extends gt{set style(t){this.bt=t}get style(){return this.bt}get K(){return{map:this.style.M,grid:this.style.grid.M,L:this.style.grid.L.M}}constructor(t,e){super(t),t.grid.o&&"number"==typeof t.grid.o.grid?this.grid=e.Kt(t.grid):this.grid=new e(Object.assign(t.grid,{o:this.o})),this.xe(t.K),t.grid.nt&&this.grid.ve(function(t){let e=new $;if(p(t))for(const i in t)e[Number(i)]=x(t[i]);return e}(t.grid.nt))}static Et(t,e){let i=new t(e);return i.It(e),i}It(t){f(this.zt,t)}Nt(t={}){var e,i;return G(t,[["type",this.me()],["ids",Y(this.o)],["grid",this.grid.Ut()],["schema",(e=this.K,G({},[["map",(i=e.map,G({},[["outer",i.W],["inner",i.inner]]))],["grid",V(e.grid)],["tile",tt(e.L)]]))],["contents",this.ae.map((t=>t.Ut()))]]),t}At(t={}){return G(t,[["mutations",this.zt]]),t}Lt(t){this.elements=this.kt(),this.pe(t),this.grid.Lt(this.elements.map),this.style.Lt();for(let t of this.ae)t.Lt()}}class xt{set o(t){this.I=t}get o(){return this.I}get size(){return{width:this.lt.x.max-this.lt.x.min+1,height:this.lt.y.max-this.lt.y.min+1}}get lt(){let t,e,i,s;for(let r of this.nt.keys){(void 0===t||r<t)&&(t=r),(void 0===e||r>e)&&(e=r);for(let t of this.nt[r].keys)(void 0===i||t<i)&&(i=t),(void 0===s||t>s)&&(s=t)}return{x:{min:i||0,max:s||0},y:{min:t||0,max:e||0}}}_t(t){if(this.D.o.L===t.L)return this.D;for(let e in this.nt)for(let i in this.nt[e])if(this.nt[e][i].o.L===t.L)return this.nt[e][i]}get style(){return R.map.grid(this.o).style.grid}get K(){return{grid:this.style.M,L:this.style.L.M}}get le(){let t=`elemap-${this.o.map}`;return{l:t,frame:t+"-frame",grid:t+"-grid",j:t+"-outer",G:t+"-inner",Z:t+"-contour"}}get u(){return this.style.u}set orientation(t){this.ye=t}get orientation(){return this.ye}set offset(t){this.Jt=t}get offset(){return this.Jt}set elements(t){this.Ct=t}get elements(){return this.Ct}set zt(t){this.qt=t}get zt(){return this.qt}constructor(t){this.nt=new $,this.qt={},"number"==typeof t.o.grid?this.o=new M(t.o,t.o.grid):this.o=new M(t.o,R.id()),this.orientation=t.orientation,this.offset=t.offset}static Et(t,e){let i=new t(e);return i.It(e),i}It(t){f(this.zt,t)}Mt(){return this.At(this.Nt())}Nt(t={}){let e=new g;for(let[t,i]of this.nt){e[t]=new g;for(let[s,r]of i)e[t][s]=r.Ut()}var i;return G(t,[["ids",F(this.o)],["orientation",this.orientation],["offset",this.offset],["schema",(i=this.K,G({},[["grid",V(i.grid)],["tile",tt(i.L)]]))],["tiles",e]]),t}At(t={}){return G(t,[["mutations",this.zt]]),t}Pt(){return this.zt}ve(t){for(let[e,i]of t)for(let[t,s]of i)this.nt[e]||(this.nt[e]=new g),this.nt[e][t]=this.we(s)}kt(){this.elements||(this.elements={frame:document.createElement("div"),W:document.createElement("div"),inner:document.createElement("div"),Ot:new g,jt:new g,Z:document.createElement("div"),ot:document.createElement("div"),D:{Y:document.createElement("div"),H:document.createElement("div"),F:document.createElement("div"),X:document.createElement("div")}},this.elements.frame.classList.add("elemap-"+this.o.map+"-grid-frame"),this.elements.W.classList.add("elemap-"+this.o.map+"-grid"),this.elements.W.classList.add("elemap-"+this.o.map+"-grid-outer"),this.elements.inner.classList.add("elemap-"+this.o.map+"-grid"),this.elements.inner.classList.add("elemap-"+this.o.map+"-grid-inner"),this.elements.Z.classList.add("elemap-"+this.o.map+"-grid-contour"),this.elements.Z.appendChild(this.elements.ot),this.elements.D.Y.classList.add("elemap-"+this.o.map+"-mannequin"),this.elements.W.appendChild(this.elements.D.Y),this.elements.D.F.classList.add("elemap-"+this.o.map+"-mannequin"),this.elements.inner.appendChild(this.elements.D.F),this.style.L.i.Lt())}Lt(t){this.kt(),t.innerHTML="";for(let[t,e]of this.nt){void 0===this.elements.Ot[t]&&(this.elements.Ot[t]=document.createElement("div"),j(this.elements.Ot[t].dataset,"elemapY",t.toString()),this.elements.W.appendChild(this.elements.Ot[t])),void 0===this.elements.jt[t]&&(this.elements.jt[t]=document.createElement("div"),j(this.elements.jt[t].dataset,"elemapY",t.toString()),this.elements.inner.appendChild(this.elements.jt[t]));for(let t of e.values)t.Lt()}t.appendChild(this.elements.frame),t.appendChild(this.elements.W),t.appendChild(this.elements.inner),t.appendChild(this.elements.Z),this.elements.inner.addEventListener("mouseover",(t=>{let e=t.target.closest(this.u.X);e&&this._e(e).vt()})),this.elements.inner.addEventListener("mouseout",(t=>{let e=t.target.closest(this.u.X);e&&this._e(e).Ht()}))}Yt(t){!1===t?this.elements.ot.removeAttribute("style"):(this.elements.ot.style.display="block",this.elements.ot.style.transform=`translate(${t.x}px, ${t.y}px)`)}}class vt extends i{set o(t){this.I=t}get o(){return this.I}get i(){return R.L.h(this.o.i)}get grid(){return R.style.grid(this.o.i)}get spacing(){return this.grid.spacing}set N(t){this.P=t}get N(){return this.P||this.compute(),this.P}get u(){return Object.assign(Object.assign({},this.grid.u),{data:this.D?"":this.i.u.data})}set M(t){this.A=t}get M(){return this.A}constructor(t,e,i,s=!1){super(),this.o=new k(t,e,R.id()),this.D=s,this.M=i}get size(){let t={width:this.N.inner.width,height:this.N.inner.height};return{et:{width:C(t.width,z(this.spacing,2)),height:C(t.height,z(this.spacing,2))},W:{width:C(t.width,this.spacing),height:C(t.height,this.spacing)},inner:t}}get J(){return""}get K(){let t="";return this.M.W.length&&(t+=this.u.H+this.u.data+"{"+this.M.W+"}"),this.M.inner.length&&(t+=this.u.X+this.u.data+"{"+this.M.inner+"}"),this.M.vt.W.length&&(t+=this.u.H+this.u.data+":hover{"+this.M.vt.W+"}"),this.M.vt.inner.length&&(t+=this.u.X+this.u.data+":hover{"+this.M.vt.inner+"}"),t}get U(){return""}compute(){this.N={inner:getComputedStyle(this.i.elements.inner)}}get be(){return this.grid.ut(this.i.ct)}get Ce(){return this.grid.dt(this.i.ct)}}class yt extends vt{}class wt extends ct{constructor(t){super(t)}get ct(){return this.coords}static Kt(t){return this.Et(wt,t)}Ut(){return this.Mt()}set style(t){this.bt=t}get style(){return void 0!==this.bt?this.bt:R.style.L(this.o)}Qt(t){return new yt(this.o,this.grid.style.o,t)}Gt(){this.elements.W&&(j(this.elements.W.dataset,"elemapX",this.coords.x.toString()),j(this.elements.W.dataset,"elemapY",this.coords.y.toString())),j(this.elements.inner.dataset,"elemapX",this.coords.x.toString()),j(this.elements.inner.dataset,"elemapY",this.coords.y.toString())}get u(){return{data:`[data-elemap-x="${this.coords.x}"][data-elemap-y="${this.coords.y}"]`}}}class _t extends xt{constructor(t){super(t)}static Kt(t){return this.Et(_t,t)}Ut(){return this.Mt()}Se(t){return new wt(t)}we(t){return wt.Kt(t)}ze(t){return t}qe(t){Array.isArray(t)&&(t={x:t[0],y:t[1]}),this.nt[t.y]||(this.nt[t.y]=new g),this.nt[t.y][t.x]=this.Se({o:this.o,coords:this.ze(t),M:!1})}Te(t,e){Array.isArray(e)&&(e={x:e[0],y:e[1]});for(let i=e.x;i<e.x+t.width;i++)for(let s=e.y;s<e.y+t.height;s++)this.qe({x:i,y:s})}$e(t){if(Array.isArray(t)&&(t={x:t[0],y:t[1]}),this.nt[t.y]&&this.nt[t.y][t.x])return this.nt[t.y][t.x]}_e(t){if(t.hasAttribute("data-elemap-x")&&t.hasAttribute("data-elemap-y"))return this.$e({x:Number(t.getAttribute("data-elemap-x")),y:Number(t.getAttribute("data-elemap-y"))})}}class bt extends i{set o(t){this.I=t}get o(){return this.I}set M(t){this.A=t}get M(){return this.A}set elements(t){this.Ct=t}get elements(){return this.Ct}set N(t){this.P=t}get N(){return this.P}constructor(t,e){super(),this.o=new Q(t,R.id()),this.M=e.map}Ut(){return G(this.M,[["outer",this.M.W],["inner",this.M.inner]])}kt(){if(this.elements)return this.elements;let t,e,i,s=document.head.getElementsByTagName("style");for(let r of s)r.classList.contains(this.i.le.l+"-css-core")?t=r:r.classList.contains(this.i.le.l+"-css-schema")?e=r:r.classList.contains(this.i.le.l+"-css-generated")&&(i=r);return t||(t=document.createElement("style"),t.classList.add(this.i.le.l+"-css-core"),document.head.appendChild(t)),e||(e=document.createElement("style"),e.classList.add(this.i.le.l+"-css-schema"),document.head.appendChild(e)),i||(i=document.createElement("style"),i.classList.add(this.i.le.l+"-css-generated"),document.head.appendChild(i)),{J:t,K:e,U:i}}Lt(){this.elements=this.kt(),this.elements.J.innerHTML=this.J,this.elements.K.innerHTML=this.K,this.i.elements.map.offsetHeight,this.compute(),this.elements.U.innerHTML=this.U}get u(){return{l:`.elemap-${this.o.i.map}`,container:`.elemap-${this.o.i.map}-container`,map:`.elemap-${this.o.i.map}-map`,content:`.elemap-${this.o.i.map}-content`}}get J(){return this.u.container+"{width:max-content;position:relative;}"+this.u.map+"{position:relative;width:max-content;z-index:10;display: flex;}"+this.u.content+"{position:absolute;z-index:500;top:0;left:0;bottom:0;right:0;pointer-events:none;}"+this.u.content+">div{width: 0px;height: 0px;position: absolute;overflow:visible}"+this.u.content+">div>*{position: absolute;transform: translate(-50%, -100%);}"}get K(){return this.u.map+"{"+this.M.W+"}"+this.u.map+">*{"+this.M.inner+"}"}compute(){this.N={map:getComputedStyle(this.i.elements.map)}}get U(){return""}}class Ct extends bt{set grid(t){this.Be=t}get grid(){return this.Be}get i(){return R.map.grid(this.o.i)}constructor(t,e){super(t,e),this.Ee(e)}Lt(){this.elements=this.kt(),this.elements.J.innerHTML=this.J+this.grid.J+this.grid.L.J,this.elements.K.innerHTML=this.K+this.grid.K+this.grid.L.K,this.i.elements.map.offsetHeight,this.i.grid.elements.inner.offsetHeight,this.compute(),this.elements.U.innerHTML=this.U+this.grid.U+this.grid.L.U}compute(){this.N={map:getComputedStyle(this.i.elements.map)},this.grid.compute()}}class St extends B{get i(){return R.grid.yt(this.o.i)}set L(t){this.k=t}get L(){return this.k}R(t){this.i.D=new wt({o:this.i.o,coords:{x:0,y:0},M:"mannequin"}),this.L=new yt(this.i.D.o,this.o,t,!0)}get ht(){let t=u(y(this.N.ot.borderWidth),0)+"px",e={width:S(this.L.size.et.width,z(t,2)),height:S(this.L.size.et.height,z(t,2))},i=d(this.L.size.et,y(this.L.N.inner.borderRadius)),s=d(e,y(this.L.N.inner.borderRadius),{top:y(t),left:y(t)});return this.u.Z+">div{"+`clip-path:path(evenodd,'${i} ${s}');}`}get it(){let t="",e=this.i.lt;for(let i=e.y.min;i<=e.y.max;i++)for(let s=e.x.min;s<=e.x.max;s++){if(!this.i.nt[i]||!this.i.nt[i][s])continue;""!==t&&(t+=" ");let e=this.ut({x:s,y:i});t+=d(this.L.size.et,y(this.L.N.inner.borderRadius),{top:y(e.top),left:y(e.left)})}return t}}class zt extends Ct{Ee(t){this.grid=new St(this.i.grid.o,this.o,t)}}class qt extends $t{constructor(t){super(t,_t)}static Kt(t){return this.Et(qt,t)}Ut(){return this.Mt()}me(){return`${s.p}`}xe(t){this.style=new zt(this.o,t)}}class Tt extends vt{}class Bt extends ct{constructor(t){super(t)}get ct(){let t=m(this.coords,this.grid.orientation,this.grid.offset);return{x:t.x,y:t.y}}static Kt(t){return this.Et(Bt,t)}Ut(){return this.Mt()}set style(t){this.bt=t}get style(){return void 0!==this.bt?this.bt:R.style.L(this.o)}Qt(t){return new Tt(this.o,this.grid.style.o,t)}Gt(){this.elements.W&&(j(this.elements.W.dataset,"elemapR",this.coords.r.toString()),j(this.elements.W.dataset,"elemapQ",this.coords.m.toString())),j(this.elements.inner.dataset,"elemapR",this.coords.r.toString()),j(this.elements.inner.dataset,"elemapQ",this.coords.m.toString()),this.elements.W&&(j(this.elements.W.dataset,"elemapX",this.ct.x.toString()),j(this.elements.W.dataset,"elemapY",this.ct.y.toString())),j(this.elements.inner.dataset,"elemapX",this.ct.x.toString()),j(this.elements.inner.dataset,"elemapY",this.ct.y.toString())}get u(){return{data:`[data-elemap-r="${this.coords.r}"][data-elemap-q="${this.coords.m}"]`}}}class Et extends xt{constructor(t){super(t)}static Kt(t){return this.Et(Et,t)}Ut(){return this.Mt()}Se(t){return new Bt(t)}we(t){return Bt.Kt(t)}ze(t){return c(t,this.orientation,this.offset)}$e(t){Array.isArray(t)&&(t={m:t[0],r:t[1]});let e=n(t)?t:m(t,this.orientation,this.offset);if(this.nt[e.y]&&this.nt[e.y][e.x])return this.nt[e.y][e.x]}_e(t){if(t.hasAttribute("data-elemap-r")&&t.hasAttribute("data-elemap-q"))return this.$e({m:Number(t.getAttribute("data-elemap-q")),r:Number(t.getAttribute("data-elemap-r"))})}qe(t){Array.isArray(t)&&(t={m:t[0],r:t[1]});let e=n(t)?t:m(t,this.orientation,this.offset);this.nt[e.y]||(this.nt[e.y]=new g),this.nt[e.y][e.x]=this.Se({o:this.o,coords:this.ze(e),M:!1})}Te(t,e){if(Array.isArray(e)&&(e={m:e[0],r:e[1]}),n(e))for(let i=e.x;i<e.x+t.width;i++)for(let s=e.y;s<e.y+t.height;s++)this.qe(c({x:i,y:s},this.orientation,this.offset));else for(let i=e.m;i<e.m+t.width;i++)for(let s=e.r;s<e.r+t.height;s++)this.qe({m:i,r:s})}Ie(t){return this.offset===h.C?t%2!=0:t%2==0}}class It extends B{get i(){return R.grid.wt(this.o.i)}set L(t){this.k=t}get L(){return this.k}R(t){this.i.D=new Bt({o:this.i.o,coords:{m:0,r:0},M:"mannequin"}),this.L=new Tt(this.i.D.o,this.o,t,!0)}get Me(){return this.i.orientation===r.v?{et:{q:q(this.L.size.et.height,2),B:this.L.size.et.height,T:this.L.size.et.width},W:{q:q(this.L.size.W.height,2),B:this.L.size.W.height,T:this.L.size.W.width},inner:{q:q(this.L.size.inner.height,2),B:this.L.size.inner.height,T:this.L.size.inner.width}}:{et:{q:q(this.L.size.et.width,2),B:this.L.size.et.width,T:this.L.size.et.height},W:{q:q(this.L.size.W.width,2),B:this.L.size.W.width,T:this.L.size.W.height},inner:{q:q(this.L.size.inner.width,2),B:this.L.size.inner.width,T:this.L.size.inner.height}}}compute(){this.N={W:getComputedStyle(this.i.elements.W),inner:getComputedStyle(this.i.elements.inner),ot:getComputedStyle(this.i.elements.ot)},this.L.compute(),this.Ae(),this.L.compute()}Ae(){let t,e;this.i.orientation===r.v?(e=S(this.L.size.W.height,this.L.size.inner.height),t=T(z(this.L.size.inner.width,l),0),this.map.elements.K.innerHTML+=this.u.H+"{height:"+C(t,e)+"}"+this.u.X+"{height:"+t+"}"):(e=S(this.L.size.W.width,this.L.size.inner.width),t=T(z(this.L.size.inner.height,l),0),this.map.elements.K.innerHTML+=this.u.H+"{width:"+C(t,e)+"}"+this.u.X+"{width:"+t+"}")}get it(){let t="",e=this.i.lt;for(let i=e.y.min;i<=e.y.max;i++)for(let s=e.x.min;s<=e.x.max;s++){if(!this.i.nt[i]||!this.i.nt[i][s])continue;""!==t&&(t+=" ");let e=this.ut({x:s,y:i});t+=a(this.i.orientation,this.Me.et,y(this.L.N.inner.borderRadius),{top:y(e.top),left:y(e.left)})}return t}get ht(){let t=u(y(this.N.ot.borderWidth),0)+"px",e=S(this.Me.et.B,z(t,2)),i={q:q(e,2),B:e,T:S(this.Me.et.T,z(t,2))},s=a(this.i.orientation,this.Me.et,y(this.L.N.inner.borderRadius)),r=a(this.i.orientation,i,y(this.L.N.inner.borderRadius),{top:y(t),left:y(t)});return this.u.X+"{"+`clip-path:path('${a(this.i.orientation,this.Me.inner,y(this.L.N.inner.borderRadius))}');}`+this.u.H+"{"+`clip-path:path('${a(this.i.orientation,this.Me.W,0)}');}`+this.u.Z+">div{"+`clip-path:path(evenodd,'${s} ${r}');}`+this.Ne()}get Pe(){return this.i.orientation===r.v?{vertical:q(this.L.size.W.height,4),Qe:"0px"}:{vertical:"0px",Qe:q(this.L.size.W.width,4)}}Le(){let t=!1,e=!1;for(let i of this.i.nt.values){for(let s of i.values)this.ke(s.ct)?t=!0:e=!0;if(t&&e)break}return t&&e}Re(){let t=this.i.lt;for(let e of this.i.nt.values)for(let i of e.values){let e=this.ke(i.ct);if("horizontal"===e){if(i.ct.x===t.x.max)return!0}else if("vertical"===e&&i.ct.y===t.y.max)return!0}return!1}ke(t){return this.i.orientation===r.v?("even"===this.i.offset&&t.y%2==0||"odd"===this.i.offset&&t.y%2!=0)&&"horizontal":("even"===this.i.offset&&t.x%2==0||"odd"===this.i.offset&&t.x%2!=0)&&"vertical"}Ne(){let t="";if(!this.Le())return t;let e=this.i.lt;if(this.i.orientation===r.v)for(let i=e.y.min;i<=e.y.max;i++)("even"===this.i.offset&&i%2==0||"odd"===this.i.offset&&i%2!=0)&&(t+=this.u.O+`[data-elemap-y="${i}"]{`+`left:${this.Oe.Qe};}`);else for(let i=e.x.min;i<=e.x.max;i++)("even"===this.i.offset&&i%2==0||"odd"===this.i.offset&&i%2!=0)&&(t+=this.u.L+`[data-elemap-x="${i}"]{`+`top:${this.Oe.vertical};}`);return t}get Oe(){return this.i.orientation===r.v?{vertical:"0px",Qe:q(this.L.size.W.width,2)}:{vertical:q(this.L.size.W.height,2),Qe:"0px"}}get st(){let t="",e=0;for(let i of this.i.nt.keys)t+=this.u.O+`[data-elemap-y="${i}"]{`+`top:${S(z(e,this.L.size.W.height),z(this.Pe.vertical,e))};}`,e++;return t}get tt(){return{width:S(z(this.L.size.W.width,this.i.size.width),z(this.Pe.Qe,this.i.size.width-1)),height:this.L.size.W.height}}get V(){return{width:C(this.tt.width,this.Le()&&this.Re()?this.Oe.Qe:0),height:C(S(z(this.L.size.W.height,this.i.size.height),z(this.Pe.vertical,this.i.size.height-1)),this.Le()&&this.Re()?this.Oe.vertical:0)}}ut(t){let e=t.x-this.i.lt.x.min,i=t.y-this.i.lt.y.min,s=S(this.L.size.W.height,this.Pe.vertical),r=S(this.L.size.W.width,this.Pe.Qe);return{top:C(z(i,s),z(this.i.Ie(t.x)&&this.Le()?1:0,this.Oe.vertical)),left:C(z(e,r),z(this.i.Ie(t.y)&&this.Le()?1:0,this.Oe.Qe))}}dt(t){let e=this.ut(t);return{top:C(e.top,q(this.spacing,2)),left:C(e.left,q(this.spacing,2))}}get rt(){let t="";for(let e of this.i.nt.values)for(let i of e.values)t+=this.u.L+i.u.data+"{"+`left:${S(this.ut(i.ct).left,this.i.Ie(i.ct.y)&&this.Le()?this.Oe.Qe:0)};}`;return t}}class Mt extends Ct{Ee(t){this.grid=new It(this.i.grid.o,this.o,t)}}class At extends $t{constructor(t){super(t,Et)}static Kt(t){return this.Et(At,t)}Ut(){return this.Mt()}me(){return`${s.$}`}xe(t){this.style=new Mt(this.o,t)}}function Nt(t){let e=O(t,"grid");return{o:(s=O(t,"ids"),{map:O(s,"map")}),grid:{o:H(O(e,"ids")),orientation:O(e,"orientation")||r.v,offset:O(e,"offset")||h.C,K:it(O(e,"schema")),nt:O(e,"tiles")},K:(i=st(O(t,"schema"))||{},{map:ot(i.map||{},nt),grid:lt(i.grid||{},ut),L:dt(i.L||{},at)}),ae:O(t,"contents")||[]};var i,s}class Pt{constructor(t){this.Vt=t,this.re(),this.te(),this.Wt(),this.je(),this.Ge(),this.Ye()}Ut(){return this.oe()}re(){j(this,"export",(()=>this.oe()))}oe(){return this.Vt.Ut()}Pt(){return this.ie()}te(){j(this,"report",(()=>this.ie()))}ie(){return this.Vt.Pt()}It(t){return this.ee(t)}Wt(){j(this,"mutate",(t=>this.ee(t)))}ee(t){return this.Vt.It(t)}$e(t){return this.Fe(t)}je(){j(this,"tileByCoords",(t=>this.Fe(t)))}Fe(t){let e=this.Vt.$e(Array.isArray(t)?t:rt(t));if(e)return new ft(e)}qe(t){return this.He(t)}Ge(){j(this,"createTile",(t=>this.He(t)))}He(t){return this.Vt.qe(t)}Te(t,e=[0,0]){return this.Xe(t,e)}Ye(){j(this,"createTiles",((t,e=[0,0])=>this.Xe(t,e)))}Xe(t,e){return this.Vt.Te(t,e)}}class Qt{constructor(t,e){let i=t===s.p?s.p:t===s.$?s.$:s.p;i===s.p?this.Vt=new qt(Nt(e||{})):i===s.$&&(this.Vt=new At(Nt(e||{}))),this.re(),this.te(),this.Ze(),this.Wt(),this.De(),this.Je(),this.Ke(),this.Ue()}static Kt(t){return Lt(t)}Ut(){return this.oe()}re(){j(this,"export",(()=>this.oe()))}oe(){return this.Vt.Ut()}Pt(){return this.ie()}te(){j(this,"report",(()=>this.ie()))}ie(){return this.Vt.Pt()}It(t){return this.ee(t)}Wt(){j(this,"mutate",(t=>this.ee(t)))}ee(t){return this.Vt.It(t)}Lt(t){this.Ve(t)}Ze(){j(this,"render",(t=>this.Ve(t)))}Ve(t){this.Vt.Lt(t)}set grid(t){}get grid(){return this.We()}De(){j(this,"grid",{set:t=>{},get:()=>this.We()})}We(){let t=this.Vt.grid;if(t)return new Pt(t)}ge(t){return this.ti(t)}Je(){j(this,"addContent",(t=>this.ti(t)))}ti(t){return this.Vt.ge(t)}xt(t){return this.ei(t)}Ke(){j(this,"contentById",(t=>this.ei(t)))}ei(t){let e=this.Vt.xt(t);if(e)return new pt(e)}fe(t){return this.ii(t)}Ue(){j(this,"contentByElement",(t=>this.ii(t)))}ii(t){let e=this.Vt.fe(t);if(e)return new pt(e)}}function Lt(t){return new Qt(t.type,t)}j(Qt,"import",Lt);const kt=Qt})(),Elemap=e.default})();