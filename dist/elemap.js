var Elemap;(()=>{"use strict";var t={d:(e,i)=>{for(var s in i)t.t(i,s)&&!t.t(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:i[s]})},t:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};(()=>{t.d(e,{default:()=>St});class i{constructor(){}get i(){return k.map.h(this.o.i)}get u(){return{l:`.elemap-${this.o.i.map}`}}}var s,r,h;function n(t,e){return parseFloat(t.toFixed(e))}!function(t){t.p="rectangle",t.m="hexagon"}(s||(s={})),function(t){t.$="pointy",t.v="flat"}(r||(r={})),function(t){t._="odd",t.S="even"}(h||(h={}));const o=2/Math.sqrt(3);function u(t,e,i=0,s={top:0,left:0}){const h=Math.sin(30*Math.PI/180);const o=Math.cos(30*Math.PI/180),u=m(e.C),a=m(e.j)/(u*o*2),l=m(e.M)/(2*u);let d=0,c=0,p=n(u*o*a,2),g=n(u*h*l,2),f=n(p-i*o*a,2),$=n(i*h*l,2),x=n(p+i*o*a,2),v=n(2*p,2),y=n(g+u,2),b=n(v-i*o*a,2),w=n(g-i*h*l,2),_=n(g+i*l,2),S=n(y+g,2),z=n(y-i*l,2),C=n(y+i*h*l,2),j=n(S-i*h*l,2),M=n(i*o*a,2);if(t===r.$)return d=n(d+s.left,2),p=n(p+s.left,2),f=n(f+s.left,2),x=n(x+s.left,2),v=n(v+s.left,2),b=n(b+s.left,2),M=n(M+s.left,2),c=n(c+s.top,2),g=n(g+s.top,2),$=n($+s.top,2),w=n(w+s.top,2),_=n(_+s.top,2),y=n(y+s.top,2),z=n(z+s.top,2),C=n(C+s.top,2),S=n(S+s.top,2),j=n(j+s.top,2),`M ${f},${$}Q ${p},${c} ${x},${$} L ${b},${w}Q ${v},${g} ${v},${_} L ${v},${z}Q ${v},${y} ${b},${C} L ${x},${j}Q ${p},${S} ${f},${j} L ${M},${C}Q ${d},${y} ${d},${z} L ${d},${_}Q ${d},${g} ${M},${w} Z`;if(t===r.v)return d=n(d+s.top,2),p=n(p+s.top,2),f=n(f+s.top,2),x=n(x+s.top,2),v=n(v+s.top,2),b=n(b+s.top,2),M=n(M+s.top,2),c=n(c+s.left,2),g=n(g+s.left,2),$=n($+s.left,2),w=n(w+s.left,2),_=n(_+s.left,2),y=n(y+s.left,2),z=n(z+s.left,2),C=n(C+s.left,2),S=n(S+s.left,2),j=n(j+s.left,2),`M ${$},${f}Q ${c},${p} ${$},${x} L ${w},${b}Q ${g},${v} ${_},${v} L ${z},${v}Q ${y},${v} ${C},${b} L ${j},${x}Q ${S},${p} ${j},${f} L ${C},${M}Q ${y},${d} ${z},${d} L ${_},${d}Q ${g},${d} ${w},${M} Z`;throw new Error("Invalid hexagon type")}function a(t,e=0,i={top:0,left:0}){let s=0,r=0,h=s+e,o=r+e,u=m(t.width),a=u-e,l=m(t.height),d=l-e;return s=n(s+i.left,2),u=n(u+i.left,2),a=n(a+i.left,2),h=n(h+i.left,2),r=n(r+i.top,2),l=n(l+i.top,2),o=n(o+i.top,2),d=n(d+i.top,2),`M ${s},${o}A ${e},${e} 0 0 1 ${h},${r} L ${a},${r}A ${e},${e} 0 0 1 ${u},${o} L ${u},${d}A ${e},${e} 0 0 1 ${a},${l} L ${h},${l}A ${e},${e} 0 0 1 ${s},${d} Z`}function l(t){return{x:t.I,y:t.L}}function d(t){return{I:t.x,L:t.y}}function c(t){return t&&"object"==typeof t&&!Array.isArray(t)}function p(t,...e){if(!e.length)return t;const i=e.shift();if(c(t)&&c(i))for(const e in i)c(t[e])&&c(i[e])?p(t[e],i[e]):Object.assign(t,{[e]:i[e]});return p(t,...e)}function m(t){return t.endsWith("px")?Number(t.slice(0,-2)):Number(t)}function g(t){return"string"==typeof t&&!isNaN(Number(t))}function f(t){if("number"==typeof t)return t;if(g(t))return Number(t);if(t.endsWith("px")&&g(t.slice(0,-2)))return Number(t.slice(0,-2));throw new Error(`Invalid calc value: ${t}`)}function $(t){return"number"==typeof t||"string"==typeof t&&(!!g(t)||!(!t.endsWith("px")||!g(t.slice(0,-2))))}function x(t){return t.every($)}const v=(...t)=>{if(void 0===t[0]||0===t.length)return"0px";if(void 0===t[1]||1===t.length)return`${f(t[0])}px`;if(x(t)){let e=f(t[0]);for(let i=1;i<t.length;i++)e+=f(t[i]);return`${n(e,4)}px`}return`calc(${t.join(" + ")})`},y=function(...t){if(void 0===t[0]||0===t.length)return"0px";if(void 0===t[1]||1===t.length)return`${f(t[0])}px`;if(x(t)){let e=f(t[0]);for(let i=1;i<t.length;i++)e-=f(t[i]);return`${n(e,4)}px`}return`calc(${t.join(" - ")})`},b=(...t)=>{if(void 0===t[0]||0===t.length)return"0px";if(void 0===t[1]||1===t.length)return`${f(t[0])}px`;if(x(t)){let e=f(t[0]);for(let i=1;i<t.length;i++)e*=f(t[i]);return`${n(e,4)}px`}return`calc(${t.join(" * ")})`},w=(...t)=>{if(void 0===t[0]||0===t.length)return"0px";if(void 0===t[1]||1===t.length)return`${f(t[0])}px`;if(x(t)){let e=f(t[0]);for(let i=1;i<t.length;i++)e/=f(t[i]);return`${n(e,4)}px`}return`calc(${t.join(" / ")})`},_=(t,e)=>`${n(f(t),e)}px`;class S extends i{set o(t){this.N=t}get o(){return this.N}get i(){return k.grid.h(this.o.i)}get map(){return k.style.map.grid(this.o.i)}set k(t){this.B=t}get k(){return this.B}set T(t){this.q=t}get T(){return this.q}set R(t){this.A=t}get R(){return this.A}constructor(t,e,i){super(),this.o=new L(t,e,k.id()),this.O(i.R),this.k=i.grid}get u(){let t=`.elemap-${this.o.i.map}`,e=t+"-grid";return{l:t,frame:e+"-frame",grid:e,G:e+">div",R:e+">div>div",P:e+"-outer",H:e+"-inner",Z:e+"-outer>div",J:e+"-inner>div",X:e+"-outer>div>div",Y:e+"-inner>div>div",F:e+"-contour"}}get spacing(){return b(this.R.T.inner.marginRight,2)}get D(){return this.u.frame+"{display:block;position:absolute;z-index:50;}"+this.u.grid+"{overflow:hidden;}"+this.u.G+"{display:flex;width:max-content;position:relative;pointer-events:none;}"+this.u.R+"{pointer-events:auto;float:left;}"+this.u.P+"{position:absolute;z-index:100;}"+this.u.Z+"{z-index:110;}"+this.u.X+"{position:absolute;z-index:120;}"+this.u.X+":before{z-index:130;}"+this.u.X+":after{z-index:140;}"+this.u.H+"{position:relative;width:max-content;z-index:150;}"+this.u.J+"{z-index:160;}"+this.u.Y+"{position:relative;z-index:170;}"+this.u.Y+":after{z-index:190;}"+this.u.Y+">*{position:relative;z-index:200;}"+this.u.F+"{display:block;position:absolute;z-index:210;pointer-events:none;}"+this.u.F+">div{display:block;position:absolute;z-index:220;}"}get K(){return this.u.frame+"{"+this.k.frame+"}"+this.u.F+">div{"+this.k.F+"}"}get U(){let t=`{top: ${this.map.T.map.paddingTop};right: ${this.map.T.map.paddingRight};bottom: ${this.map.T.map.paddingBottom};left: ${this.map.T.map.paddingLeft};}`;return this.u.grid+"{"+`padding:${w(this.spacing,2)};}`+this.u.frame+t+this.u.P+t+this.u.F+t+this.u.Z+"{"+`width: ${y(b(this.R.size.V.width,this.i.size.width),b(this.spacing,this.i.size.width))};}`+this.u.G+"{"+`height:${this.R.size.V.height};}`+this.u.X+"{"+`width:${this.R.size.V.width};`+`height:${this.R.size.V.height};}`+this.u.F+">div{display:none;top:0;left:0;"+`width:${this.R.size.W.width};`+`height:${this.R.size.W.height};}`+this.u.frame+"{"+`clip-path: path('${this.tt}');}`+this.et}compute(){this.T={V:getComputedStyle(this.i.elements.V),inner:getComputedStyle(this.i.elements.inner),it:getComputedStyle(this.i.elements.it)},this.R.compute()}}class z{constructor(t){this.map=t}}class C extends z{}class j extends C{constructor(t,e){super(t.map),this.grid=e}}class M extends j{constructor(t,e){super(t,t.grid),this.R=e}}class I{constructor(t,e){this.i=t,this.map=e}}class Q extends I{}class L extends Q{constructor(t,e,i){super(t,e.map),this.grid=i}}class N extends L{constructor(t,e,i){super(t,e,i),this.R=i}}class k{static id(){return k.st++}static add(t){k.rt.set(t.o.map,t)}}function B(t,e){if(t&&t.hasOwnProperty(e))return t[e]}function E(t,e,i){if(t)return t[e]=i,t}function T(t,e){for(let i of e)E(t,i[0],i[1]);return t}function q(t){let e={};return E(e,"map",t.map),e}function R(t){let e={};return E(e,"map",t.map),E(e,"grid",t.grid),e}function A(t){return{map:B(t,"map"),grid:B(t,"grid")}}function O(t){let e={};return E(e,"map",t.map),E(e,"grid",t.grid),E(e,"tile",t.R),e}function G(t){let e={};return E(e,"width",t.width),E(e,"height",t.height),e}function P(t){let e={};return E(e,"i",t.I),E(e,"j",t.L),e}function H(t){return{I:B(t,"i"),L:B(t,"j")}}function Z(t){return{V:B(t,"outer"),inner:B(t,"inner")}}function J(t){return T({},[["frame",t.frame],["contour",t.F]])}function X(t){return{frame:B(t,"frame"),F:B(t,"contour")}}function Y(t){return T({},[["outer",t.V],["inner",t.inner],["hover",T({},[["outer",t.ht.V],["inner",t.ht.inner]])]])}function F(t){return{V:B(t,"outer"),inner:B(t,"inner"),ht:{V:B(B(t,"hover"),"outer"),inner:B(B(t,"hover"),"inner")}}}function D(t){return{grid:X(B(t,"grid")),R:F(B(t,"tile"))}}function K(t){return{map:Z(B(t,"map")),grid:X(B(t,"grid")),R:F(B(t,"tile"))}}function U(t){return void 0!==B(t,"q")&&void 0!==B(t,"r")?{nt:B(e=t,"q"),r:B(e,"r")}:function(t){return{x:B(t,"x"),y:B(t,"y")}}(t);var e}k.st=0,k.rt=new Map,k.map={h:t=>k.rt.get(t.map),grid:t=>{let e=k.map.h(t);if(e&&e instanceof W)return e}},k.grid={h:t=>{let e=k.map.h(t);if(e&&e instanceof W)return e.grid},ot:t=>{let e=k.map.h(t);if(e&&e instanceof W)return e.grid},ut:t=>{let e=k.map.h(t);if(e&&e instanceof W)return e.grid}},k.R={h:t=>{let e=k.grid.h(t);if(e)return e.lt(t)}},k.style={map:{grid:t=>{let e=k.map.h(t);if(e&&e instanceof W)return e.style}},grid:t=>{let e=k.map.h(t);if(e&&e instanceof W)return e.style.grid},R:t=>{let e=k.map.h(t);if(e&&e instanceof W&&e.style.grid&&e.style.grid instanceof S)return e.style.grid.R}};class V{set o(t){this.N=t}get o(){return this.N}set elements(t){this.dt=t}get elements(){return this.dt}set style(t){this.ct=t}get style(){return this.ct}get gt(){return{l:`elemap-${this.o.map}`,container:`elemap-${this.o.map}-container`,map:`elemap-${this.o.map}-map`}}set ft(t){this.$t=t}get ft(){return this.$t}constructor(t){this.$t={},t.o&&"number"==typeof t.o.map?this.o=new C(t.o.map):this.o=new C(k.id()),k.add(this)}xt(){return this.vt(this.yt())}yt(t={}){return T(t,[["type",this.bt()],["ids",q(this.o)]]),t}vt(t={}){return T(t,[["mutables",this.ft]]),t}wt(){return this.ft}_t(){let t=document.createElement("div");return t.classList.add(`elemap-${this.o.map}-map`),{map:t}}St(t){for(let e of document.getElementsByClassName("elemap-"+this.o.map+"-container"))e!==t&&e.classList.remove("elemap-"+this.o.map+"-container");this.elements.container!==t&&(this.elements.container=t,this.elements.container.classList.add("elemap-"+this.o.map+"-container")),this.elements.container.appendChild(this.elements.map)}zt(t){this.elements=this._t(),this.St(t),this.style.zt()}}class W extends V{set style(t){this.ct=t}get style(){return this.ct}get K(){return{map:this.style.k,grid:this.style.grid.k,R:this.style.grid.R.k}}constructor(t,e){super(t),t.grid.o&&"number"==typeof t.grid.o.grid?this.grid=e.Ct(t.grid):this.grid=new e(Object.assign(t.grid,{o:this.o})),this.jt(t.K)}static Mt(t,e){let i=new t(e);return i.It(e),i}It(t){p(this.ft,t)}yt(t={}){var e,i;return T(t,[["type",this.bt()],["ids",q(this.o)],["grid",this.grid.Qt()],["schema",(e=this.K,T({},[["map",(i=e.map,T({},[["outer",i.V],["inner",i.inner]]))],["grid",J(e.grid)],["tile",Y(e.R)]]))]]),t}vt(t={}){return T(t,[["mutables",this.ft]]),t}zt(t){this.elements=this._t(),this.St(t),this.grid.zt(this.elements.map),this.style.zt()}}class tt{set o(t){this.N=t}get o(){return this.N}set size(t){this.Lt=t}get size(){return this.Lt}R(t,e){return this.Nt(t,e)}kt(t,e){var i;return null===(i=this.Bt[t])||void 0===i?void 0:i[e]}lt(t){for(let e in this.Bt)for(let i in this.Bt[e])if(this.Bt[e][i].o.R===t.R)return this.Bt[e][i]}get style(){return k.map.grid(this.o).style.grid}get K(){return{grid:this.style.k,R:this.style.R.k}}get gt(){let t=`elemap-${this.o.map}`;return{l:t,frame:t+"-frame",grid:t+"-grid",P:t+"-outer",H:t+"-inner",F:t+"-contour"}}get u(){return this.style.u}set orientation(t){this.Et=t}get orientation(){return this.Et}set offset(t){this.Tt=t}get offset(){return this.Tt}set elements(t){this.dt=t}get elements(){return this.dt}set ft(t){this.$t=t}get ft(){return this.$t}constructor(t){this.Bt=[],this.$t={},"number"==typeof t.o.grid?this.o=new j(t.o,t.o.grid):this.o=new j(t.o,k.id()),this.size=t.size,this.orientation=t.orientation,this.offset=t.offset,this.qt(t.Bt)}static Mt(t,e){let i=new t(e);return i.It(e),i}It(t){p(this.ft,t)}xt(){return this.vt(this.yt())}yt(t={}){var e;return T(t,[["ids",R(this.o)],["size",G(this.size)],["orientation",this.orientation],["offset",this.offset],["schema",(e=this.K,T({},[["grid",J(e.grid)],["tile",Y(e.R)]]))],["tiles",this.Bt.map((t=>t.map((t=>t.Qt()))))]]),t}vt(t={}){return T(t,[["mutables",this.ft]]),t}wt(){return this.ft}_t(){this.elements||(this.elements={frame:document.createElement("div"),V:document.createElement("div"),inner:document.createElement("div"),Rt:[],At:[],F:document.createElement("div"),it:document.createElement("div")},this.elements.frame.classList.add("elemap-"+this.o.map+"-grid-frame"),this.elements.V.classList.add("elemap-"+this.o.map+"-grid"),this.elements.V.classList.add("elemap-"+this.o.map+"-grid-outer"),this.elements.inner.classList.add("elemap-"+this.o.map+"-grid"),this.elements.inner.classList.add("elemap-"+this.o.map+"-grid-inner"),this.elements.F.classList.add("elemap-"+this.o.map+"-grid-contour"),this.elements.F.appendChild(this.elements.it))}zt(t){this._t(),t.innerHTML="";for(let t in this.Bt){void 0===this.elements.Rt[t]&&(this.elements.Rt[t]=document.createElement("div"),this.elements.V.appendChild(this.elements.Rt[t])),void 0===this.elements.At[t]&&(this.elements.At[t]=document.createElement("div"),this.elements.inner.appendChild(this.elements.At[t]));for(let e in this.Bt[t])this.Bt[Number(t)][Number(e)].zt()}t.appendChild(this.elements.frame),t.appendChild(this.elements.V),t.appendChild(this.elements.inner),t.appendChild(this.elements.F),this.elements.inner.addEventListener("mouseover",(t=>{let e=t.target.closest(this.u.Y);e&&this.Ot(e).ht()})),this.elements.inner.addEventListener("mouseout",(t=>{let e=t.target.closest(this.u.Y);e&&this.Ot(e).Gt()}))}Pt(t){!1===t?this.elements.it.removeAttribute("style"):(this.elements.it.style.display="block",this.elements.it.style.transform=`translate(${t.x}px, ${t.y}px)`)}}const et={V:"padding:50px;background-color:#f5df8d;",inner:""};function it(t,e){return{V:(e&&e.V?e.V:"")+(t.V||""),inner:(e&&e.inner?e.inner:"")+(t.inner||"")}}const st={frame:"background-color:#222222;",F:"border: 2px solid transparent;background-color:#f5f5f5;"};function rt(t,e){return{frame:(e&&e.frame?e.frame:"")+(t.frame||""),F:(e&&e.F?e.F:"")+(t.F||"")}}const ht={V:"background-color:#222222;",inner:"width:100px;height:100px;border-radius:6px;background-color:#b2e090;margin:2px;",ht:{V:"background-color:#f5f5f5;",inner:""}};function nt(t,e){return{V:(e&&e.V?e.V:"")+(t.V||""),inner:(e&&e.inner?e.inner:"")+(t.inner||""),ht:{V:(e&&e.ht&&e.ht.V?e.ht.V:"")+(t.ht&&t.ht.V?t.ht.V:""),inner:(e&&e.ht&&e.ht.inner?e.ht.inner:"")+(t.ht&&t.ht.inner?t.ht.inner:"")}}}class ot{set o(t){this.N=t}get o(){return this.N}get grid(){return k.grid.h(this.o)}set style(t){this.ct=t}get style(){return void 0!==this.ct?this.ct:k.style.R(this.o)}get k(){return this.style.k}set elements(t){this.dt=t}get elements(){return this.dt}set index(t){this.Ht=t}get index(){return this.Ht}set coords(t){this.Zt=t}get coords(){return this.Zt}set ft(t){this.$t=t}get ft(){return this.$t}constructor(t){this.Jt=!1,this.$t={},"number"==typeof t.o.R?this.o=new M(t.o,t.o.R):this.o=new M(t.o,k.id()),this.index=t.index,this.coords=t.coords}static Mt(t,e){let i=new t(function(t){return{o:(e=B(t,"ids"),{map:B(e,"map"),grid:B(e,"grid"),R:B(e,"tile")}),index:H(B(t,"index")),coords:U(B(t,"coords")),k:F(B(t,"decls")),ft:B(t,"mutables")};var e}(e));return i.It(e),i}It(t){p(this.ft,t)}xt(){return this.vt(this.yt())}yt(t={}){return T(t,[["ids",O(this.o)],["index",P(this.index)],["coords",(e=this.coords,void 0!==e.nt&&void 0!==e.r?function(t){let e={};return E(e,"q",t.nt),E(e,"r",t.r),e}(e):function(t){let e={};return E(e,"x",t.x),E(e,"y",t.y),e}(e))],["decls",void 0!==this.ct&&Y(this.k)],["mutables",this.ft]]),t;var e}vt(t={}){return T(t,[["mutables",this.ft]]),t}wt(){return this.ft}Xt(t,e=!1){t=F(t),void 0===this.ct||e?this.style=this.Yt(nt(t)):this.style=this.Yt(nt(t,this.k)),this.Jt&&this.zt()}_t(){this.elements||(this.elements={inner:document.createElement("div")}),void 0===this.ct||this.style.Ft||(this.elements.style||(this.elements.style=document.createElement("style"),this.elements.style.classList.add("elemap-"+this.o.map+"-css-tile-"+this.o.R)),this.elements.V||!this.k.V.length&&!this.k.ht.V.length||(this.elements.V=document.createElement("div")))}Dt(){this.elements.V&&(E(this.elements.V.dataset,"elemapI",this.index.I.toString()),E(this.elements.V.dataset,"elemapJ",this.index.L.toString())),E(this.elements.inner.dataset,"elemapI",this.index.I.toString()),E(this.elements.inner.dataset,"elemapJ",this.index.L.toString())}zt(){let t=this.grid.elements.Rt[this.index.I],e=this.grid.elements.At[this.index.I];this._t(),this.Dt(),this.Kt(),this.elements.style&&(this.elements.style.innerHTML=this.style.D+this.style.K+this.style.U,document.head.appendChild(this.elements.style)),this.elements.V&&(t.contains(this.elements.V)||t.appendChild(this.elements.V)),e.contains(this.elements.inner)||e.appendChild(this.elements.inner),this.Jt=!0}ht(){let t=k.grid.h(this.o);t&&t.Pt(this.Ut)}Gt(){let t=k.grid.h(this.o);t&&t.Pt(!1)}get Ut(){let t=k.grid.h(this.o);if(t){let e=this.elements.inner,i={x:0,y:0};for(;e;)if(i.x+=e.offsetLeft,i.y+=e.offsetTop,e=e.parentElement,e===t.elements.inner)return{x:i.x-m(t.style.spacing),y:i.y-m(t.style.spacing)}}return{x:0,y:0}}}class ut extends i{set o(t){this.N=t}get o(){return this.N}get i(){return k.R.h(this.o.i)}get grid(){return k.style.grid(this.o.i)}get spacing(){return this.grid.spacing}set T(t){this.q=t}get T(){return this.q}get u(){return Object.assign(Object.assign({},this.grid.u),{data:this.Ft?"":this.i.u.data})}set k(t){this.B=t}get k(){return this.B}constructor(t,e,i,s=!1){super(),this.o=new N(t,e,k.id()),this.Ft=s,this.k=i}get size(){let t={width:this.T.inner.width,height:this.T.inner.height};return{W:{width:v(t.width,b(this.spacing,2)),height:v(t.height,b(this.spacing,2))},V:{width:v(t.width,this.spacing),height:v(t.height,this.spacing)},inner:t}}get D(){return""}get K(){let t="";return this.k.V.length&&(t+=this.u.X+this.u.data+"{"+this.k.V+"}"),this.k.inner.length&&(t+=this.u.Y+this.u.data+"{"+this.k.inner+"}"),this.k.ht.V.length&&(t+=this.u.X+this.u.data+":hover{"+this.k.ht.V+"}"),this.k.ht.inner.length&&(t+=this.u.Y+this.u.data+":hover{"+this.k.ht.inner+"}"),t}get U(){let t="";return this.Ft&&(t+=this.u.F+">div{border:none;}",t+=this.Vt),t}get Vt(){let t="";for(let e of this.i.grid.Bt)for(let i of e)t+=this.u.X+i.u.data+"{"+`left:${b(this.size.V.width,i.index.L)};}`;return t}compute(){this.T={inner:getComputedStyle(this.i.grid.Nt(0,0).elements.inner)}}}class at extends ut{}class lt extends ot{constructor(t){super(t)}static Ct(t){return this.Mt(lt,t)}Qt(){return this.xt()}set style(t){this.ct=t}get style(){return void 0!==this.ct?this.ct:k.style.R(this.o)}Yt(t){return new at(this.o,this.grid.style.o,t)}Kt(){this.elements.V&&(E(this.elements.V.dataset,"elemapX",this.coords.x.toString()),E(this.elements.V.dataset,"elemapY",this.coords.y.toString())),E(this.elements.inner.dataset,"elemapX",this.coords.x.toString()),E(this.elements.inner.dataset,"elemapY",this.coords.y.toString())}get u(){return{data:`[data-elemap-x="${this.coords.x}"][data-elemap-y="${this.coords.y}"]`}}}class dt extends tt{constructor(t){super(t)}static Ct(t){return this.Mt(dt,t)}Qt(){return this.xt()}qt(t){for(let e=0;e<this.size.height;e++){this.Bt[e]=[];for(let i=0;i<this.size.width;i++)t&&t[e]&&t[e][i]?this.Bt[e][i]=lt.Ct(t[e][i]):this.Bt[e][i]=new lt({o:this.o,index:{I:e,L:i},coords:l({I:e,L:i}),k:!1})}}Nt(t,e){let i=d({x:t,y:e});return this.kt(i.I,i.L)}Ot(t){if(t.hasAttribute("data-elemap-x")&&t.hasAttribute("data-elemap-y"))return this.Nt(Number(t.getAttribute("data-elemap-x")),Number(t.getAttribute("data-elemap-y")))}}class ct extends i{set o(t){this.N=t}get o(){return this.N}set k(t){this.B=t}get k(){return this.B}set elements(t){this.dt=t}get elements(){return this.dt}set T(t){this.q=t}get T(){return this.q}constructor(t,e){super(),this.o=new Q(t,k.id()),this.k=e.map}Qt(){return T(this.k,[["outer",this.k.V],["inner",this.k.inner]])}_t(){let t=document.createElement("style");t.classList.add(this.i.gt.l+"-css-core"),document.head.appendChild(t);let e=document.createElement("style");e.classList.add(this.i.gt.l+"-css-schema"),document.head.appendChild(e);let i=document.createElement("style");return i.classList.add(this.i.gt.l+"-css-generated"),document.head.appendChild(i),{D:t,K:e,U:i}}zt(){this.elements=this._t(),this.elements.D.innerHTML=this.D,this.elements.K.innerHTML=this.K,this.i.elements.map.offsetHeight,this.compute(),this.elements.U.innerHTML=this.U}get u(){return{l:`.elemap-${this.o.i.map}`,container:`.elemap-${this.o.i.map}-container`,map:`.elemap-${this.o.i.map}-map`}}get D(){return this.u.container+"{width:max-content;}"+this.u.map+"{position:relative;width:max-content;z-index:10;}"}get K(){return this.u.map+"{"+this.k.V+"}"+this.u.map+">*{"+this.k.inner+"}"}compute(){this.T={map:getComputedStyle(this.i.elements.map)}}get U(){return""}}class pt extends ct{set grid(t){this.Wt=t}get grid(){return this.Wt}get i(){return k.map.grid(this.o.i)}constructor(t,e){super(t,e),this.te(e)}zt(){this.elements=this._t(),this.elements.D.innerHTML=this.D+this.grid.D+this.grid.R.D,this.elements.K.innerHTML=this.K+this.grid.K+this.grid.R.K,this.i.elements.map.offsetHeight,this.i.grid.elements.inner.offsetHeight,this.compute(),this.elements.U.innerHTML=this.U+this.grid.U+this.grid.R.U}compute(){this.T={map:getComputedStyle(this.i.elements.map)},this.grid.compute()}}class mt extends S{get i(){return k.grid.ot(this.o.i)}set R(t){this.A=t}get R(){return this.A}O(t){this.R=new at(this.i.kt(0,0).o,this.o,t,!0)}get et(){let t=n(m(this.T.it.borderWidth),0)+"px",e={width:y(this.R.size.W.width,b(t,2)),height:y(this.R.size.W.height,b(t,2))},i=a(this.R.size.W,m(this.R.T.inner.borderRadius)),s=a(e,m(this.R.T.inner.borderRadius),{top:m(t),left:m(t)});return this.u.F+">div{"+`clip-path:path(evenodd,'${i} ${s}');}`}get tt(){let t="";for(let e=0;e<this.i.size.height;e++)for(let i=0;i<this.i.size.width;i++)""!==t&&(t+=" "),t+=a(this.R.size.W,m(this.R.T.inner.borderRadius),{top:e*(m(this.R.size.W.height)-m(this.spacing)),left:i*(m(this.R.size.W.width)-m(this.spacing))});return t}}class gt extends pt{te(t){this.grid=new mt(this.i.grid.o,this.o,t)}}class ft extends W{constructor(t){super(t,dt)}static Ct(t){return this.Mt(ft,t)}Qt(){return this.xt()}bt(){return`${s.p}`}jt(t){this.style=new gt(this.o,t)}}class $t extends ut{get Vt(){let t="";for(let e of this.i.grid.Bt)for(let i of e)t+=this.u.X+i.u.data+"{"+`left:${y(b(this.size.V.width,i.index.L),b(this.grid.ie.ee,i.index.L))};}`;return t}}class xt extends ot{constructor(t){super(t)}static Ct(t){return this.Mt(xt,t)}Qt(){return this.xt()}set style(t){this.ct=t}get style(){return void 0!==this.ct?this.ct:k.style.R(this.o)}Yt(t){return new $t(this.o,this.grid.style.o,t)}Kt(){this.elements.V&&(E(this.elements.V.dataset,"elemapR",this.coords.r.toString()),E(this.elements.V.dataset,"elemapQ",this.coords.nt.toString())),E(this.elements.inner.dataset,"elemapR",this.coords.r.toString()),E(this.elements.inner.dataset,"elemapQ",this.coords.nt.toString())}get u(){return{data:`[data-elemap-r="${this.coords.r}"][data-elemap-q="${this.coords.nt}"]`}}}class vt extends tt{constructor(t){super(t)}static Ct(t){return this.Mt(vt,t)}Qt(){return this.xt()}qt(t){for(let n=0;n<this.size.height;n++){this.Bt[n]=[];for(let o=0;o<this.size.width;o++)t&&t[n]&&t[n][o]?this.Bt[n][o]=xt.Ct(t[n][o]):this.Bt[n][o]=new xt({o:this.o,index:{I:n,L:o},coords:(e={I:n,L:o},i=this.orientation,s=this.offset,function(t,e,i){let s={r:0,nt:0};return e===r.$?(s.r=t.x,i===h._?s.nt=t.y-(t.x-(1&t.x))/2:s.nt=t.y-(t.x+(1&t.x))/2):(s.nt=t.y,i===h._?s.r=t.x-(t.y-(1&t.y))/2:s.r=t.x-(t.y+(1&t.y))/2),s}(l(e),i,s)),k:!1})}var e,i,s}Nt(t,e){let i=d(function(t,e,i){let s={x:0,y:0};return e===r.$?(s.x=t.r,i===h._?s.y=t.nt+(t.r-(1&t.r))/2:s.y=t.nt+(t.r+(1&t.r))/2):(s.y=t.nt,i===h._?s.x=t.r+(t.nt-(1&t.nt))/2:s.x=t.r+(t.nt+(1&t.nt))/2),s}({r:t,nt:e},this.orientation,this.offset));return this.kt(i.I,i.L)}Ot(t){if(t.hasAttribute("data-elemap-r")&&t.hasAttribute("data-elemap-q"))return this.Nt(Number(t.getAttribute("data-elemap-r")),Number(t.getAttribute("data-elemap-q")))}se(t){return this.offset===h._?t%2==1:t%2==0}}class yt extends S{get i(){return k.grid.ut(this.o.i)}set R(t){this.A=t}get R(){return this.A}O(t){this.R=new $t(this.i.kt(0,0).o,this.o,t,!0)}get re(){return this.i.orientation===r.$?{W:{C:w(this.R.size.W.height,2),M:this.R.size.W.height,j:this.R.size.W.width},V:{C:w(this.R.size.V.height,2),M:this.R.size.V.height,j:this.R.size.V.width},inner:{C:w(this.R.size.inner.height,2),M:this.R.size.inner.height,j:this.R.size.inner.width}}:{W:{C:w(this.R.size.W.width,2),M:this.R.size.W.width,j:this.R.size.W.height},V:{C:w(this.R.size.V.width,2),M:this.R.size.V.width,j:this.R.size.V.height},inner:{C:w(this.R.size.inner.width,2),M:this.R.size.inner.width,j:this.R.size.inner.height}}}compute(){this.T={V:getComputedStyle(this.i.elements.V),inner:getComputedStyle(this.i.elements.inner),it:getComputedStyle(this.i.elements.it)},this.R.compute(),this.he(),this.R.compute()}he(){let t,e;this.i.orientation===r.$?(e=y(this.R.size.V.height,this.R.size.inner.height),t=_(b(this.R.size.inner.width,o),0),this.map.elements.K.innerHTML+=this.u.X+"{height:"+v(t,e)+"}"+this.u.Y+"{height:"+t+"}"):(e=y(this.R.size.V.width,this.R.size.inner.width),t=_(b(this.R.size.inner.height,o),0),this.map.elements.K.innerHTML+=this.u.X+"{width:"+v(t,e)+"}"+this.u.Y+"{width:"+t+"}")}get tt(){let t="",e=m(this.R.size.W.height)-m(this.ie.vertical)-m(this.spacing),i=m(this.R.size.W.width)-m(this.ie.ee)-m(this.spacing);for(let s=0;s<this.i.size.height;s++)for(let r=0;r<this.i.size.width;r++)""!==t&&(t+=" "),t+=u(this.i.orientation,this.re.W,m(this.R.T.inner.borderRadius),{top:s*e+(this.i.se(r)?1:0)*m(this.ne.vertical),left:r*i+(this.i.se(s)?1:0)*m(this.ne.ee)});return t}get et(){let t=n(m(this.T.it.borderWidth),0)+"px",e=y(this.re.W.M,b(t,2)),i={C:w(e,2),M:e,j:y(this.re.W.j,b(t,2))},s=u(this.i.orientation,this.re.W,m(this.R.T.inner.borderRadius)),r=u(this.i.orientation,i,m(this.R.T.inner.borderRadius),{top:m(t),left:m(t)});return this.u.Y+"{"+`clip-path:path('${u(this.i.orientation,this.re.inner,m(this.R.T.inner.borderRadius))}');}`+this.u.X+"{"+`clip-path:path('${u(this.i.orientation,this.re.V,0)}');}`+this.u.F+">div{"+`clip-path:path(evenodd,'${s} ${r}');}`+this.oe()+this.ue()}oe(){return this.i.orientation===r.$?this.u.G+":not(:first-child){"+`margin-top:${y("0px",this.ie.vertical)};}`:this.u.Y+":not(:first-child){"+`margin-left:${y(w(this.spacing,2),this.ie.ee)};}`}get ie(){return this.i.orientation===r.$?{vertical:w(this.R.size.V.height,4),ee:"0px"}:{vertical:"0px",ee:w(this.R.size.V.width,4)}}ue(){let t="even"===this.i.offset?"2n - 1":"2n";if(this.i.orientation===r.$)return this.u.G+`:nth-child(${t}){`+`margin-left:${this.ne.ee};}`;{let e="";for(let i=0;i<this.i.size.width;i++)("2n - 1"===t&&i%2==0||"2n"===t&&i%2!=0)&&(e+=this.u.X+`[data-elemap-j="${i}"]{`+`margin-top:${this.ne.vertical};`+`margin-bottom:${y("0px",this.ne.vertical)};}`);return e+=this.u.Y+`:nth-child(${t}){`+`margin-top:${v(w(this.spacing,2),this.ne.vertical)};`+`margin-bottom:${v(w(this.spacing,2),y("0px",this.ne.vertical))};}`,e+=this.u.G+":last-child{"+`height:${v(this.R.size.V.height,this.ne.vertical)};}`,e}}get ne(){return this.i.orientation===r.$?{vertical:"0px",ee:w(this.R.size.V.width,2)}:{vertical:w(this.R.size.V.height,2),ee:"0px"}}}class bt extends pt{te(t){this.grid=new yt(this.i.grid.o,this.o,t)}}class wt extends W{constructor(t){super(t,vt)}static Ct(t){return this.Mt(wt,t)}Qt(){return this.xt()}bt(){return`${s.m}`}jt(t){this.style=new bt(this.o,t)}}function _t(t){let e=B(t,"size"),i=B(t,"grid");return{o:(n=B(t,"ids"),{map:B(n,"map")}),grid:{o:A(B(i,"ids")),size:{width:B(e,"width")||32,height:B(e,"height")||18},orientation:B(i,"orientation")||r.$,offset:B(i,"offset")||h._,K:D(B(i,"schema")),Bt:B(i,"tiles")},K:(s=K(B(t,"schema"))||{},{map:it(s.map||{},et),grid:rt(s.grid||{},st),R:nt(s.R||{},ht)})};var s,n}class St{constructor(t,e){let i=t===s.p?s.p:t===s.m?s.m:s.p;i===s.p?this.ae=new ft(_t(e||{})):i===s.m&&(this.ae=new wt(_t(e||{}))),this.le(),this.de(),this.ce(),this.pe(),this.me()}static Ct(t){return zt(t)}Qt(){return this.ge()}le(){E(this,"export",(()=>this.ge()))}ge(){return this.ae.Qt()}wt(){return this.fe()}de(){E(this,"report",(()=>this.fe()))}fe(){return this.ae.wt()}It(t){return this.$e(t)}pe(){E(this,"mutate",(t=>this.$e(t)))}$e(t){return this.ae.It(t)}zt(t){this.xe(t)}ce(){E(this,"render",(t=>this.xe(t)))}xe(t){this.ae.zt(t)}set grid(t){}get grid(){return this.ve()}me(){E(this,"grid",{set:t=>{},get:()=>this.ve()})}ve(){let t=this.ae.grid;if(t)return new Ct(t)}}function zt(t){return new St(t.type,t)}E(St,"import",zt);class Ct{constructor(t){this.ae=t,this.le(),this.de(),this.pe(),this.ye()}Qt(){return this.ge()}le(){E(this,"export",(()=>this.ge()))}ge(){return this.ae.Qt()}wt(){return this.fe()}de(){E(this,"report",(()=>this.fe()))}fe(){return this.ae.wt()}It(t){return this.$e(t)}pe(){E(this,"mutate",(t=>this.$e(t)))}$e(t){return this.ae.It(t)}kt(t,e){return this.be(t,e)}ye(){E(this,"tileByIndex",((t,e)=>this.be(t,e)))}be(t,e){let i=this.ae.kt(t,e);if(i)return new jt(i)}}class jt{constructor(t){this.ae=t,this.le(),this.de(),this.pe(),this.we()}Qt(){return this.ge()}le(){E(this,"export",(()=>this.ge()))}ge(){return this.ae.Qt()}wt(){return this.fe()}de(){E(this,"report",(()=>this.fe()))}fe(){return this.ae.wt()}It(t){return this.$e(t)}pe(){E(this,"mutate",(t=>this.$e(t)))}$e(t){return this.ae.It(t)}Xt(t,e=!1){this._e(t,e)}we(){E(this,"updateStyle",((t,e=!1)=>this._e(t,e)))}_e(t,e=!1){this.ae.Xt(t,e)}}})(),Elemap=e.default})();